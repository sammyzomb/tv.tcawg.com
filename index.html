<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <script>
    (function(){ if (/[?&]embed=1/.test(location.search)) document.documentElement.classList.add('embed-mode'); })();
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- Permissions-Policy: æœ¬åœ°é–‹ç™¼æ™‚å¯æš«æ™‚è¨»è§£ï¼Œæ­£å¼ç’°å¢ƒå»ºè­°ä¿ç•™ -->
  <!-- <meta http-equiv="Permissions-Policy" content="autoplay=(self 'https://www.youtube.com' 'https://www.youtube-nocookie.com'), encrypted-media=(self 'https://www.youtube.com' 'https://www.youtube-nocookie.com'), accelerometer=(self 'https://www.youtube.com' 'https://www.youtube-nocookie.com'), gyroscope=(self 'https://www.youtube.com' 'https://www.youtube-nocookie.com'), picture-in-picture=(self 'https://www.youtube.com' 'https://www.youtube-nocookie.com'), clipboard-write=(self), web-share=(self)"> -->
  <title>èˆªå‘ä¸–ç•Œæ—…éŠé »é“</title>
  
  <link rel="stylesheet" href="style.css?v=20250926v2">
  <!-- ç°¡åŒ–ç¾è§€å¥—ä»¶ CSS - ä¿æŒåŸæœ‰è¨­è¨ˆé¢¨æ ¼ -->
  <link rel="stylesheet" href="simple-enhanced-styles.css?v=20250926v2">
  
  <!-- ä¸»é¡Œæ¢ç´¢é é¢æ¨£å¼ -->
  <style>
    /* ä¸»é¡Œæ¢ç´¢é é¢å°ˆç”¨æ¨£å¼ */
    .topics-page-wrapper {
      padding: 5px 5%;
      background: var(--section-bg);
      border-radius: 20px;
      margin-top: -10px;
    }

    .page-header {
      text-align: center;
      margin-bottom: 2px;
    }

    .page-header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text-color);
      margin: 0 0 10px 0;
    }

    .page-header p {
      font-size: 1.1rem;
      color: var(--text-color-light);
      margin: 0;
    }

    .search-section {
      margin-bottom: 5px;
    }

    .search-box {
      display: flex;
      max-width: 600px;
      margin: 0 auto 2px;
      background: var(--card-bg);
      border: 2px solid var(--card-border);
      border-radius: 25px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .search-box:focus-within {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(43, 113, 210, 0.1);
    }

    .search-input {
      flex: 1;
      padding: 12px 20px;
      border: none;
      outline: none;
      font-size: 15px;
      background: transparent;
      color: var(--text-color);
      border-radius: 25px 0 0 25px;
    }

    .search-input::placeholder {
      color: #9ca3af;
    }

    .search-btn {
      padding: 12px 20px;
      border: none;
      background: #ffd700;
      color: #121821;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      border-radius: 0 25px 25px 0;
    }

    .search-btn:hover {
      background: #ffed4e;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
    }

    .search-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
    }

    .search-tag {
      padding: 6px 12px;
      background: var(--card-bg);
      color: var(--text-color);
      border: 1px solid var(--card-border);
      border-radius: 20px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .search-tag:hover {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .section-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-color);
      text-align: center;
      margin: 0 0 3px 0;
    }

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
      margin-top: 0;
    }

    .topic-card {
      position: relative;
      height: 320px;
      border-radius: 16px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .topic-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }

    .topic-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.3) 100%);
      z-index: 1;
    }

    .topic-content {
      position: relative;
      z-index: 2;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 24px;
      color: white;
    }

    .topic-icon {
      font-size: 2rem;
      margin-bottom: 12px;
    }

    .topic-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 8px 0;
      line-height: 1.2;
    }

    .topic-desc {
      font-size: 0.95rem;
      line-height: 1.4;
      margin: 0 0 16px 0;
      opacity: 0.9;
    }

    .topic-meta {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .topic-stats,
    .topic-tags {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.85rem;
      opacity: 0.8;
    }

    .meta-icon {
      width: 16px;
      height: 16px;
      stroke: currentColor;
    }

    .videos-section {
      margin-top: 40px;
    }

    .search-results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
    }

    .video-card {
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }

    .video-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    .video-thumbnail {
      position: relative;
      height: 160px;
      overflow: hidden;
    }

    .video-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .video-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .video-card:hover .video-overlay {
      opacity: 1;
    }

    .play-button {
      width: 50px;
      height: 50px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary-color);
    }

    .video-info {
      padding: 16px;
    }

    .video-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--text-color);
      margin: 0 0 8px 0;
      line-height: 1.3;
    }

    .video-meta {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .video-category {
      background: var(--primary-color);
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 500;
    }

    /* éŸ¿æ‡‰å¼è¨­è¨ˆ - 3x3 ä½ˆå±€ */
    @media (max-width: 1200px) {
      .topics-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 24px;
      }
    }

    @media (max-width: 900px) {
      .topics-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }
    }

    @media (max-width: 600px) {
      .topics-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 16px;
      }
      
      .topic-card {
        height: 240px;
      }
    }

    /* è¼‰å…¥æŒ‡ç¤ºå™¨æ¨£å¼ */
    .loading-indicator {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.95);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    body.dark-theme .loading-indicator {
      background: rgba(18, 24, 33, 0.95);
    }

    .loading-indicator.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    body.dark-theme .loading-spinner {
      border-color: rgba(255, 255, 255, 0.1);
      border-top-color: var(--primary-color);
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-indicator p {
      color: var(--text-color);
      font-size: 1rem;
      margin: 0;
    }

    /* åµŒå…¥æ¨¡å¼ï¼šä¾›å¤–éƒ¨å®˜æ–¹ç¶²ç«™ iframe ä½¿ç”¨ï¼Œéš±è—æœ¬é å°èˆªåˆ—ï¼ˆclass åŠ åœ¨ html ä¸Šï¼Œhead å…§å³ç”Ÿæ•ˆï¼‰ */
    html.embed-mode .navbar,
    html.embed-mode #side-menu,
    html.embed-mode #menu-overlay { display: none !important; }

    /* å®˜ç¶²å°èˆªï¼šè„«é›¢æ–‡ä»¶æµï¼Œä¸‹æ‹‰å±•é–‹æ™‚ä¸æ“ å£“ heroï¼›ç„¡é‚Šæ¡†ç„¡é™°å½±ï¼Œé¿å…é‚Šç•Œç·š */
    #tcawg-official-header { position: absolute; top: 0; left: 0; right: 0; z-index: 1000; margin: 0; padding: 0; line-height: 0; background: transparent; backdrop-filter: none; -webkit-backdrop-filter: none; border: none; outline: none; box-shadow: none; transition: none !important; }
    #tcawg-header-iframe { vertical-align: top; background: transparent; display: block; border: none !important; outline: none; box-shadow: none; transition: none !important; }
    /* hero ä¸Šç§» 1px é®ä½å°è¦½åˆ—åº•ç·£æ¬¡åƒç´ ç¸«éš™ï¼Œæ¶ˆé™¤é‚Šç•Œç·š */
    .hero { margin-top: -1px; }
    body { padding-top: var(--header-closed-height, 220px); }
    html.embed-mode body { padding-top: 0; }

    /* ä»¥ä¸‹ä¿ç•™ä¾›åƒè€ƒï¼Œç¾å·²æ”¹ç‚º iframe è¼‰å…¥ header.html */
    .tcawg-official-nav { background: #fafafa; border-bottom: 1px solid #e5e5e5; position: sticky; top: 0; z-index: 1000; font-family: "Microsoft JhengHei", "PingFang TC", "Helvetica Neue", sans-serif; }
    .tcawg-official-nav .tcawg-nav-inner { max-width: 1430px; margin: 0 auto; padding: 14px 4%; display: flex; align-items: center; justify-content: space-between; gap: 24px; flex-wrap: wrap; }
    .tcawg-nav-brand { display: flex; flex-direction: column; gap: 2px; }
    .tcawg-nav-brand .tcawg-logo { display: block; color: #1a1a1a; text-decoration: none; font-size: 18px; font-weight: 700; line-height: 1.3; }
    .tcawg-nav-brand .tcawg-logo:hover { color: #1a1a1a; }
    .tcawg-nav-brand .tcawg-nav-current { display: block; color: #0066cc; text-decoration: none; font-size: 15px; font-weight: 500; line-height: 1.3; }
    .tcawg-nav-brand .tcawg-nav-current:hover { color: #0052a3; text-decoration: underline; }
    .tcawg-nav-links { display: flex; flex-direction: column; gap: 10px; align-items: flex-end; }
    .tcawg-nav-row1 { display: flex; align-items: center; gap: 6px 16px; flex-wrap: wrap; justify-content: flex-end; }
    .tcawg-nav-row2 { display: flex; align-items: center; gap: 6px 14px; flex-wrap: wrap; justify-content: flex-end; }
    .tcawg-official-nav .tcawg-nav-links a { color: #333; text-decoration: none; font-size: 14px; }
    .tcawg-official-nav .tcawg-nav-links a:hover { color: #0066cc; }
    @media (max-width: 991px) { .tcawg-official-nav .tcawg-nav-inner { flex-direction: column; align-items: flex-start; } .tcawg-nav-links { align-items: flex-start; } .tcawg-nav-row1, .tcawg-nav-row2 { justify-content: flex-start; } }
  </style>
  
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <script src="https://cdn.jsdelivr.net/npm/contentful@latest/dist/contentful.browser.min.js"></script>
  <script src="browser-config.js"></script>
  <script src="featured.js"></script>
</head>
<body>
  <!-- å®˜ç¶²å°èˆªåˆ—ï¼šèˆ‡ èˆªå‘ä¸–ç•Œæ—…éŠ å®˜ç¶²å®Œå…¨ä¸€è‡´ï¼ˆiframe è¼‰å…¥ header.htmlï¼‰ï¼›embed=1 æ™‚éš±è— -->
  <header class="navbar" id="tcawg-official-header">
    <iframe
      id="tcawg-header-iframe"
      src="header.html"
      title="èˆªå‘ä¸–ç•Œæ—…éŠ å®˜ç¶²å°èˆª"
      scrolling="no"
      style="display:block; width:100%; min-height:200px; height:220px; border:0; margin:0; padding:0; overflow:visible;"
    ></iframe>
  </header>

  <!-- è¼‰å…¥æŒ‡ç¤ºå™¨ -->
  <div id="loading-indicator" class="loading-indicator">
    <div class="loading-spinner"></div>
    <p>è¼‰å…¥ä¸­...</p>
  </div>

  <div class="hero" id="heroSection">
    <div class="yt-bg-wrapper">
      <div id="ytPlayer"></div>
      <div id="heroMask"></div>
    </div>
    <div class="hero-main-title">
      <h1 style="margin:0 0 10px 0;">æ¢ç´¢ä¸–ç•Œ  å¾é€™è£¡é–‹å§‹</h1>
      <p>Live ä¸–ç•Œæ—…éŠæ–°è¦–é‡</p>
    </div>
    <div class="hero-caption" id="heroCaption"></div>
  </div>
  
  <section class="schedule-section">
    <div class="section-title-container">
        <div class="title-left">
            <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            <h2>ä»Šæ—¥ç¯€ç›®è¡¨</h2>
        </div>
        <div class="title-right">
            <span class="current-datetime-text" id="currentDateTime">1æœˆ15æ—¥ æ˜ŸæœŸä¸€ 14:30</span>
        </div>
    </div>
    
    <!-- TLC é¢¨æ ¼ç‰ˆå‹ï¼šå·¦å³åˆ†æ¬„ä½ˆå±€ -->
    <div class="tlc-schedule-container">
        <!-- å·¦å´ï¼šç¾æ­£æ’­å‡ºç¯€ç›®å€åŸŸ -->
        <div class="now-playing-area">
            <div class="now-playing-header">
                <h3>ğŸ”´ ç¾æ­£æ’­å‡º</h3>
                <span class="live-indicator">LIVE</span>
            </div>
            <div class="now-playing-card" id="now-playing-card">
                <div class="now-playing-thumbnail">
                    <img id="now-playing-image" src="" alt="ç¾æ­£æ’­å‡ºç¯€ç›®">
                    <div class="now-playing-overlay">
                        <div class="now-playing-time" id="now-playing-time">14:30</div>
                        <div class="now-playing-status" id="now-playing-status">ç¾æ­£æ’­å‡º</div>
                        <button class="now-playing-play-button" id="now-playing-play-button">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5,3 19,12 5,21"></polygon>
                            </svg>
                        </button>
                    </div>
                </div>
                    <div class="now-playing-content">
                        <div class="now-playing-title-row">
                            <h3 class="now-playing-title" id="now-playing-title">ç¯€ç›®åç¨±</h3>
                            <div class="now-playing-title-tags" id="now-playing-title-tags">
                                <!-- æ¨™é¡Œæ—çš„æ¨™ç±¤å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
                            </div>
                        </div>
                        <p class="now-playing-description" id="now-playing-description">ç¯€ç›®æè¿°æ–‡å­—...</p>
                        <div class="now-playing-topics" id="now-playing-topics" style="display: none;">
                            <!-- ç¯€ç›®åˆ†é¡å’Œä¸»é¡Œæ¢ç´¢æ¨™ç±¤å·²ç§»åˆ°æ¨™é¡Œæ—é‚Š -->
                        </div>
                    </div>
            </div>
        </div>
        
        <!-- å³å´ï¼šå³å°‡æ’­å‡ºç¯€ç›®å¡ç‰‡å€åŸŸ -->
        <div class="upcoming-programs-area">
            <div class="upcoming-programs-header">
                <h3>â° å³å°‡æ’­å‡º</h3>
                <span class="upcoming-count" id="upcoming-count">å…± 24 å€‹ç¯€ç›®</span>
            </div>
            <div class="upcoming-programs-list" id="upcoming-programs-list">
                <!-- å³å°‡æ’­å‡ºç¯€ç›®åˆ—è¡¨å°‡ç”± script.js å‹•æ…‹è¼‰å…¥ -->
            </div>
        </div>
    </div>
    
    <div class="section-cta-container">
        <a href="schedule.html" class="section-cta-btn">æŸ¥çœ‹å®Œæ•´ç¯€ç›®è¡¨</a>
    </div>
  </section>

  <section class="video-section">
    <div class="section-title-container">
        <div class="title-left">
            <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg>
            <h2>ç²¾é¸ç¯€ç›®æ¨è–¦</h2>
        </div>
        <div class="title-right">
            <a href="videos.html" class="view-all-btn">æŸ¥çœ‹æ‰€æœ‰ç¯€ç›®</a>
        </div>
    </div>
    <div class="video-grid" id="featured-videos"></div>
  </section>

  <!-- ä¸»é¡Œæ¢ç´¢å€å¡Š - åµŒå…¥å®Œæ•´ topics.html å…§å®¹ -->
  <section class="topics-section">
    <!-- åµŒå…¥å®Œæ•´çš„ topics.html å…§å®¹ -->
    <div class="topics-page-wrapper">
      <!-- é é¢æ¨™é¡Œ -->
      <div class="page-header">
        <h1>ä¸»é¡Œæ¢ç´¢</h1>
        <p>æœå°‹å’Œæ¢ç´¢ä¸åŒä¸»é¡Œçš„æ—…éŠç¯€ç›®</p>
      </div>

      <!-- æœå°‹æ¡† -->
      <div class="search-section">
        <div class="search-box">
          <input type="text" id="search-input" class="search-input" placeholder="æœå°‹ç¯€ç›®ã€ä¸»é¡Œæˆ–é—œéµå­—..." onkeypress="handleSearchKeypress(event)">
          <button class="search-btn" onclick="performSearch()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            </svg>
          </button>
        </div>
        <div class="search-tags" id="search-tags">
          <!-- ç†±é–€æœå°‹æ¨™ç±¤å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
        </div>
    </div>

      <!-- ä¸»é¡Œåˆ†é¡ç¶²æ ¼ -->
      <div class="topics-section">
        <h2 class="section-title">ç†±é–€ä¸»é¡Œåˆ†é¡</h2>
        <div class="topics-grid" id="topics-grid">
          <div class="topic-card" data-topic-id="city-secrets" style="background-image: url('https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸ™ï¸</div>
              <h3 class="topic-title">åŸå¸‚ç§˜å¢ƒ</h3>
              <p class="topic-desc">æ·±å…¥åŸå¸‚è§’è½ã€å¸‚é›†ã€æ–‡åŒ–æ™¯é»,ç”¨å¯¦åœ°é«”é©—å‘ˆç¾åŸå¸‚æ•…äº‹</p>
              <div class="topic-meta">
                <div class="topic-stats">
                  <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg>
                  <span>0å€‹ç¯€ç›®</span>
                </div>
                <div class="topic-tags">
                  <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
                  <span>å°çœ¾æ™¯é»ã€åœ¨åœ°ç”Ÿæ´»</span>
                </div>
              </div>
            </div>
          </div>
          <div class="topic-card" data-topic-id="taste-journal" style="background-image: url('https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸ½ï¸</div>
              <h3 class="topic-title">å‘³è¦ºæ—¥èªŒ</h3>
              <p class="topic-desc">å“å˜—ç•¶åœ°æ–™ç†èˆ‡è¡—é ­å°åƒ,è¨ªå•é¤å»³è€é—†æˆ–å»šå¸«,åˆ†äº«é£Ÿç‰©èƒŒå¾Œçš„æ•…äº‹</p>
              <div class="topic-meta">
                <div class="topic-stats"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg><span>0å€‹ç¯€ç›®</span></div>
                <div class="topic-tags"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><span>ç¾é£Ÿæ•…äº‹ã€è¡—é ­å°åƒ</span></div>
              </div>
            </div>
          </div>
          <div class="topic-card" data-topic-id="travel-talk" style="background-image: url('https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸ’¬</div>
              <h3 class="topic-title">æ—…é€”è«‡</h3>
              <p class="topic-desc">é‚€è«‹æ—…éŠé”äººã€éƒ¨è½å®¢ã€åœ¨åœ°äºº,åˆ†äº«æ—…è¡Œå¿ƒå¾—ã€æŠ€å·§èˆ‡è¶£è</p>
              <div class="topic-meta">
                <div class="topic-stats"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg><span>0å€‹ç¯€ç›®</span></div>
                <div class="topic-tags"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><span>æ—…éŠæŠ€å·§ã€ç¯€çœé ç®—</span></div>
              </div>
            </div>
          </div>
          <div class="topic-card" data-topic-id="around-world" style="background-image: url('https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸŒ</div>
              <h3 class="topic-title">ç¹è‘—åœ°çƒè·‘</h3>
              <p class="topic-desc">èµ°è¨ªå°é®æˆ–é„‰æ‘,ä»‹ç´¹ç•¶åœ°æ–‡åŒ–ã€æ‰‹ä½œå·¥è—ã€å¸‚å ´èˆ‡ç‰¹è‰²ç¾é£Ÿ</p>
              <div class="topic-meta">
                <div class="topic-stats"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg><span>4å€‹ç¯€ç›®</span></div>
                <div class="topic-tags"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><span>æ…¢ç¯€å¥ã€è¼•æ—…è¡Œ</span></div>
              </div>
            </div>
          </div>
          <div class="topic-card" data-topic-id="food-talk" style="background-image: url('https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸ”</div>
              <h3 class="topic-title">é£Ÿè©±å¯¦èªª</h3>
              <p class="topic-desc">è¨è«–ç‰¹å®šé£Ÿæã€æ–™ç†æˆ–ç¾é£Ÿæ–‡åŒ–,çµåˆè¨è«–èˆ‡å¯¦åœ°ç¤ºç¯„</p>
              <div class="topic-meta">
                <div class="topic-stats"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg><span>0å€‹ç¯€ç›®</span></div>
                <div class="topic-tags"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><span>é£Ÿæè¨è«–ã€æ–™ç†æ–‡åŒ–</span></div>
              </div>
            </div>
          </div>
          <div class="topic-card" data-topic-id="play-fun" style="background-image: url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸ®</div>
              <h3 class="topic-title">ç©æ¨‚FUN</h3>
              <p class="topic-desc">å°ˆç‚ºå®¶åº­è¨­è¨ˆ,æ¢ç´¢é©åˆè¦ªå­æ´»å‹•çš„æ™¯é»ã€éŠæ¨‚åœ’ã€å‹•ç‰©åœ’</p>
              <div class="topic-meta">
                <div class="topic-stats"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg><span>0å€‹ç¯€ç›®</span></div>
                <div class="topic-tags"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><span>è¦ªå­æ´»å‹•ã€éŠæ¨‚åœ’</span></div>
              </div>
            </div>
        </div>
          <div class="topic-card" data-topic-id="nature-secrets" style="background-image: url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸŒ²</div>
              <h3 class="topic-title">è‡ªç„¶ç§˜å¢ƒ</h3>
              <p class="topic-desc">æ¢ç´¢å¤§è‡ªç„¶çš„å¥§ç§˜èˆ‡ç¾éº—,ç™¼ç¾éš±è—çš„è‡ªç„¶æ™¯è§€</p>
              <div class="topic-meta">
                <div class="topic-stats"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg><span>0å€‹ç¯€ç›®</span></div>
                <div class="topic-tags"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><span>è‡ªç„¶æ™¯è§€ã€æˆ¶å¤–æ¢éšª</span></div>
              </div>
            </div>
          </div>
          <div class="topic-card" data-topic-id="culture-heritage" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸ›ï¸</div>
              <h3 class="topic-title">æ–‡åŒ–éºç”¢</h3>
              <p class="topic-desc">æ¢è¨ªä¸–ç•Œæ–‡åŒ–éºç”¢,äº†è§£æ­·å²å»ºç¯‰èˆ‡å‚³çµ±å·¥è—</p>
              <div class="topic-meta">
                <div class="topic-stats"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg><span>0å€‹ç¯€ç›®</span></div>
                <div class="topic-tags"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><span>æ­·å²å»ºç¯‰ã€å‚³çµ±å·¥è—</span></div>
        </div>
        </div>
        </div>
          <div class="topic-card" data-topic-id="adventure-sports" style="background-image: url('https://images.unsplash.com/photo-1551698618-1dfe5d97d256?w=400&h=300&fit=crop')">
            <div class="topic-content">
              <div class="topic-icon">ğŸ”ï¸</div>
              <h3 class="topic-title">å†’éšªé‹å‹•</h3>
              <p class="topic-desc">é«”é©—æ¥µé™é‹å‹•èˆ‡æˆ¶å¤–å†’éšª,æŒ‘æˆ°è‡ªæˆ‘æ¥µé™</p>
              <div class="topic-meta">
                <div class="topic-stats"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg><span>0å€‹ç¯€ç›®</span></div>
                <div class="topic-tags"><svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><span>æ¥µé™é‹å‹•ã€æˆ¶å¤–æŒ‘æˆ°</span></div>
        </div>
    </div>
        </div>
        </div>

      <!-- ç²¾é¸ç¯€ç›® -->
      <div class="videos-section" id="featured-videos-section" style="display: none;">
        <h2 class="section-title">ç²¾é¸ç¯€ç›®</h2>
        <div class="search-results-grid" id="featured-videos">
          <!-- ç¯€ç›®å¡ç‰‡å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
        </div>
        </div>
    </div>
  </section>

  
  <div class="fullscreen-player" id="fullscreenPlayer"></div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="media.js"></script>
  <script src="script.js?v=20250909"></script>
  
  <!-- é¦–é æ–°å¢åŠŸèƒ½ -->
  <script>
    // ä¸»é¡Œæ¢ç´¢é é¢çš„å®Œæ•´åŠŸèƒ½ - èˆ‡ topics.html å®Œå…¨ä¸€è‡´
    const TOPICS_DATA = [
      { 
        id: 'city-secrets', 
        title: 'åŸå¸‚ç§˜å¢ƒ', 
        desc: 'æ·±å…¥åŸå¸‚è§’è½ã€å¸‚é›†ã€æ–‡åŒ–æ™¯é»,ç”¨å¯¦åœ°é«”é©—å‘ˆç¾åŸå¸‚æ•…äº‹', 
        icon: 'ğŸ™ï¸', 
        backgroundImage: 'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=300&fit=crop',
        programCount: 0,
        tags: ['å°çœ¾æ™¯é»', 'åœ¨åœ°ç”Ÿæ´»']
      },
      { 
        id: 'taste-journal', 
        title: 'å‘³è¦ºæ—¥èªŒ', 
        desc: 'å“å˜—ç•¶åœ°æ–™ç†èˆ‡è¡—é ­å°åƒ,è¨ªå•é¤å»³è€é—†æˆ–å»šå¸«,åˆ†äº«é£Ÿç‰©èƒŒå¾Œçš„æ•…äº‹', 
        icon: 'ğŸ½ï¸', 
        backgroundImage: 'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400&h=300&fit=crop',
        programCount: 0,
        tags: ['ç¾é£Ÿæ•…äº‹', 'è¡—é ­å°åƒ']
      },
      { 
        id: 'travel-talk', 
        title: 'æ—…é€”è«‡', 
        desc: 'é‚€è«‹æ—…éŠé”äººã€éƒ¨è½å®¢ã€åœ¨åœ°äºº,åˆ†äº«æ—…è¡Œå¿ƒå¾—ã€æŠ€å·§èˆ‡è¶£è', 
        icon: 'ğŸ’¬', 
        backgroundImage: 'https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop',
        programCount: 0,
        tags: ['æ—…éŠæŠ€å·§', 'ç¯€çœé ç®—']
      },
      { 
        id: 'around-world', 
        title: 'ç¹è‘—åœ°çƒè·‘', 
        desc: 'èµ°è¨ªå°é®æˆ–é„‰æ‘,ä»‹ç´¹ç•¶åœ°æ–‡åŒ–ã€æ‰‹ä½œå·¥è—ã€å¸‚å ´èˆ‡ç‰¹è‰²ç¾é£Ÿ', 
        icon: 'ğŸŒ', 
        backgroundImage: 'https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&h=300&fit=crop',
        programCount: 4,
        tags: ['æ…¢ç¯€å¥', 'è¼•æ—…è¡Œ']
      },
      { 
        id: 'food-talk', 
        title: 'é£Ÿè©±å¯¦èªª', 
        desc: 'è¨è«–ç‰¹å®šé£Ÿæã€æ–™ç†æˆ–ç¾é£Ÿæ–‡åŒ–,çµåˆè¨è«–èˆ‡å¯¦åœ°ç¤ºç¯„', 
        icon: 'ğŸ”', 
        backgroundImage: 'https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop',
        programCount: 0,
        tags: ['é£Ÿæè¨è«–', 'æ–™ç†æ–‡åŒ–']
      },
      { 
        id: 'play-fun', 
        title: 'ç©æ¨‚FUN', 
        desc: 'å°ˆç‚ºå®¶åº­è¨­è¨ˆ,æ¢ç´¢é©åˆè¦ªå­æ´»å‹•çš„æ™¯é»ã€éŠæ¨‚åœ’ã€å‹•ç‰©åœ’', 
        icon: 'ğŸ®', 
        backgroundImage: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',
        programCount: 0,
        tags: ['è¦ªå­æ´»å‹•', 'éŠæ¨‚åœ’']
      }
    ];

    let currentSearchQuery = '';
    let allPrograms = [];

    function initTopicsSection() {
      // è¼‰å…¥æœå°‹æ¨™ç±¤
      renderSearchTags();
      // è¼‰å…¥ä¸»é¡Œåˆ†é¡ï¼ˆç«‹å³é¡¯ç¤ºå…­å¼µå¡ç‰‡ï¼‰
      renderTopicsGrid();
      // è¼‰å…¥ç¯€ç›®æ•¸æ“šï¼ˆä¾›æœå°‹çµæœä½¿ç”¨ï¼‰
      loadProgramsData();
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initTopicsSection);
    } else {
      // æ–‡ä»¶å·²å°±ç·’ï¼Œç›´æ¥åŸ·è¡Œ
      initTopicsSection();
    }

    // æ¸²æŸ“æœå°‹æ¨™ç±¤
    function renderSearchTags() {
      const container = document.getElementById('search-tags');
      if (!container) return;

      const tags = ['åŸå¸‚ç§˜å¢ƒ', 'å‘³è¦ºæ—¥èªŒ', 'æ—…é€”è«‡', 'ç¹è‘—åœ°çƒè·‘', 'é£Ÿè©±å¯¦èªª', 'ç©æ¨‚FUN'];
      container.innerHTML = tags.map(tag => `
        <span class="search-tag" onclick="searchByTag('${tag}')">${tag}</span>
        `).join('');
      }

    // æ¸²æŸ“ä¸»é¡Œåˆ†é¡ç¶²æ ¼ - èˆ‡ topics.html å®Œå…¨ä¸€è‡´çš„æ¨£å¼
    function renderTopicsGrid() {
      const container = document.getElementById('topics-grid');
      if (!container) return;

      container.innerHTML = TOPICS_DATA.map(topic => `
        <div class="topic-card" data-topic-id="${topic.id}" style="background-image: url('${topic.backgroundImage}')">
          <div class="topic-content">
            <div class="topic-icon">${topic.icon}</div>
            <h3 class="topic-title">${topic.title}</h3>
            <p class="topic-desc">${topic.desc}</p>
            <div class="topic-meta">
              <div class="topic-stats">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                  <path d="M8 21h8m-4-4v4"/>
                </svg>
                <span>${topic.programCount}å€‹ç¯€ç›®</span>
              </div>
              <div class="topic-tags">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/>
                  <line x1="7" y1="7" x2="7.01" y2="7"/>
                </svg>
                <span>${topic.tags.join('ã€')}</span>
              </div>
            </div>
          </div>
        </div>
      `).join('');

      // æ·»åŠ é»æ“Šäº‹ä»¶
      container.querySelectorAll('.topic-card').forEach(card => {
        card.addEventListener('click', () => {
          const topicId = card.dataset.topicId;
          const topic = TOPICS_DATA.find(t => t.id === topicId);
          if (topic) {
            searchByTag(topic.title);
          }
        });
      });
    }

    // è¼‰å…¥ç¯€ç›®æ•¸æ“š
    async function loadProgramsData() {
      try {
        if (typeof contentful !== 'undefined') {
          const client = contentful.createClient({
            space: 'os5wf90ljenp',
            accessToken: 'lODH-WLwHwVZv7O4rFdBWjSnrzaQWGD4koeOZ1Dypj0'
          });
          
          const response = await client.getEntries({
            content_type: 'scheduleItem',
            include: 2,
            limit: 1000
          });
          
          if (response.items && response.items.length > 0) {
            allPrograms = response.items.map(item => ({
              id: item.sys.id,
              title: item.fields.title,
              description: item.fields.notes || '',
              thumbnail: item.fields.thumbnail || 'https://images.unsplash.com/photo-1485846234645-a62644f84728?w=400&h=225&fit=crop',
              youtubeId: extractYouTubeId(item.fields.notes),
              category: extractCategory(item.fields.notes),
              topics: extractTopics(item.fields.notes)
            }));
          }
        }
      } catch (error) {
        console.error('è¼‰å…¥ç¯€ç›®æ•¸æ“šå¤±æ•—:', error);
      }
    }

    // è¼”åŠ©å‡½æ•¸
    function extractYouTubeId(notes) {
      if (!notes) return '';
      const match = notes.match(/\[YouTube:([^\]]+)\]/);
      return match ? match[1] : '';
    }

    function extractCategory(notes) {
      if (!notes) return 'æ—…éŠç¯€ç›®';
      const match = notes.match(/\[åˆ†é¡:(.*?)\]/);
      return match ? match[1] : 'æ—…éŠç¯€ç›®';
    }

    function extractTopics(notes) {
      if (!notes) return [];
      const matches = notes.match(/\[ä¸»é¡Œ:(.*?)\]/g);
      if (!matches) return [];
      return matches.map(m => m.replace(/\[ä¸»é¡Œ:(.*?)\]/, '$1'));
    }

    // æœå°‹åŠŸèƒ½
    function searchByTag(tag) {
      const searchInput = document.getElementById('search-input');
      if (searchInput) {
        searchInput.value = tag;
      }
      performSearch(tag);
    }

    // è™•ç† Enter éµæœå°‹
    function handleSearchKeypress(event) {
      if (event.key === 'Enter') {
        const searchInput = document.getElementById('search-input');
        if (searchInput && searchInput.value.trim()) {
          performSearch(searchInput.value.trim());
        }
      }
    }

    function performSearch(query) {
      const container = document.getElementById('featured-videos');
      const section = document.getElementById('featured-videos-section');
      
      if (!container || !section) return;

      currentSearchQuery = query;
      container.innerHTML = '<div style="text-align: center; padding: 40px; color: #6b7280;">æœå°‹ä¸­...</div>';
      section.style.display = 'block';

      // æ¨¡æ“¬æœå°‹çµæœ
      setTimeout(() => {
        const results = allPrograms.filter(program => 
          program.title.toLowerCase().includes(query.toLowerCase()) ||
          program.description.toLowerCase().includes(query.toLowerCase()) ||
          program.category.toLowerCase().includes(query.toLowerCase()) ||
          program.topics.some(topic => topic.toLowerCase().includes(query.toLowerCase()))
        );

        if (results.length > 0) {
          container.innerHTML = results.map(program => `
            <div class="video-card" onclick="openVideoModal('${program.youtubeId}')">
            <div class="video-thumbnail">
                <img src="${program.thumbnail}" alt="${program.title}" loading="lazy">
              <div class="video-overlay">
                <div class="play-button">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="5,3 19,12 5,21"></polygon>
                  </svg>
                </div>
              </div>
            </div>
            <div class="video-info">
                <h3 class="video-title">${program.title}</h3>
                <div class="video-meta">
                  <span class="video-category">${program.category}</span>
                </div>
            </div>
          </div>
        `).join('');
        } else {
          container.innerHTML = '<div style="text-align: center; padding: 40px; color: #6b7280;">æ²’æœ‰æ‰¾åˆ°ç›¸é—œç¯€ç›®</div>';
        }
      }, 500);
    }

    // é–‹å•Ÿå½±ç‰‡æ¨¡æ…‹æ¡†
    function openVideoModal(youtubeId) {
      if (!youtubeId) return;
      
      const modal = document.getElementById('fullscreenPlayer');
      if (modal) {
        modal.innerHTML = `
          <div class="fullscreen-player-content">
            <button class="close-player-btn" onclick="closeFullscreenPlayer()">&times;</button>
            <iframe src="https://www.youtube.com/embed/${youtubeId}?autoplay=1" 
                    frameborder="0" allowfullscreen></iframe>
          </div>
        `;
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    // é—œé–‰å…¨è¢å¹•æ’­æ”¾å™¨
    function closeFullscreenPlayer() {
      const modal = document.getElementById('fullscreenPlayer');
      if (modal) {
        modal.classList.remove('active');
        modal.innerHTML = '';
        document.body.style.overflow = '';
      }
    }
  </script>

  <!-- ä¾ iframe å…§ä¸‹æ‹‰é–‹é—œå‹•æ…‹èª¿æ•´å°èˆªé«˜åº¦ï¼Œé¿å…ä¸€å¤§æ®µç©ºç™½ -->
  <script>
    (function(){
      window.addEventListener('message', function(e) {
        if (e.data && e.data.type === 'tcawg-header-height' && typeof e.data.height === 'number') {
          var ifr = document.getElementById('tcawg-header-iframe');
          if (ifr) ifr.style.height = e.data.height + 'px';
          if (e.data.closed) document.documentElement.style.setProperty('--header-closed-height', e.data.height + 'px');
        }
      });
    })();
  </script>
  <!-- ä¸‹æ‹‰æ¯›ç»ç’ƒç”± header.htmlï¼ˆiframe å…§ï¼‰å–®ç¨æ§åˆ¶ï¼Œçˆ¶é ä¸å†æ³¨å…¥æ¨£å¼ï¼Œé¿å…é›™å±¤æ¯›ç»ç’ƒ -->
</body>
</html>
