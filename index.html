<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Permissions-Policy" content="autoplay=(), encrypted-media=(), accelerometer=(), gyroscope=(), picture-in-picture=(), clipboard-write=(), web-share=()">
  <title>航向世界旅遊頻道</title>
  
  <link rel="stylesheet" href="style.css?v=20250926v2">
  <!-- 簡化美觀套件 CSS - 保持原有設計風格 -->
  <link rel="stylesheet" href="simple-enhanced-styles.css?v=20250926v2">
  
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <script src="https://cdn.jsdelivr.net/npm/contentful@latest/dist/contentful.browser.min.js"></script>
  <script src="browser-config.js"></script>
  <script src="featured.js"></script>
</head>
<body>

  <!-- 導覽列 -->
  <div class="navbar">
    <a class="logo" href="index.html"><img src="logo.png" alt="航向世界旅遊頻道 LOGO" /></a>
    
    <nav class="desktop-nav">
      <a href="index.html" class="active">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9L12 2L21 9V20a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        <span class="nav-text">首頁</span>
      </a>
      <a href="videos.html">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg>
        <span class="nav-text">所有節目</span>
      </a>
      <a href="schedule.html">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
        <span class="nav-text">節目表</span>
      </a>
      <a href="topics.html">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        <span class="nav-text">主題探索</span>
      </a>
    </nav>

    <div class="nav-actions">
        <a href="#" id="theme-switcher" title="切換主題">
            <svg id="theme-icon-sun" class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            <svg id="theme-icon-moon" class="nav-icon" style="display: none;" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
        </a>
        <a href="login.html" class="login-link">
            <svg class="nav-icon" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="7" r="4.5" stroke-width="2"/><ellipse cx="10" cy="15.2" rx="6.8" ry="3.2" stroke-width="2"/></svg>
            <span class="nav-text">會員登入</span>
        </a>
        <button id="hamburger-btn" class="hamburger-btn">
            <svg viewBox="0 0 100 80" width="24" height="24">
              <rect width="100" height="15" rx="8"></rect>
              <rect y="30" width="100" height="15" rx="8"></rect>
              <rect y="60" width="100" height="15" rx="8"></rect>
            </svg>
        </button>
    </div>
  </div>

  <div id="side-menu" class="side-menu">
    <a href="index.html">首頁</a>
    <a href="videos.html">所有節目</a>
    <a href="schedule.html">節目表</a>
    <a href="topics.html">主題探索</a>
  </div>
  <div id="menu-overlay" class="menu-overlay"></div>

  <!-- 載入指示器 -->
  <div id="loading-indicator" class="loading-indicator">
    <div class="loading-spinner"></div>
    <p>載入中...</p>
  </div>

  <div class="hero">
    <div class="yt-bg-wrapper">
      <div id="ytPlayer"></div>
      <div id="heroMask"></div>
    </div>
    <div class="hero-main-title">
      <h1 style="margin:0 0 10px 0;">探索世界  從這裡開始</h1>
      <p>Live 世界旅遊新視野</p>
    </div>
    <div class="hero-caption" id="heroCaption"></div>
  </div>
  
  <section class="schedule-section">
    <div class="section-title-container">
        <div class="title-left">
            <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            <h2>今日節目表</h2>
        </div>
        <div class="title-right">
            <span class="current-datetime-text" id="currentDateTime">1月15日 星期一 14:30</span>
        </div>
    </div>
    
    <!-- TLC 風格版型：左右分欄佈局 -->
    <div class="tlc-schedule-container">
        <!-- 左側：現正播出節目區域 -->
        <div class="now-playing-area">
            <div class="now-playing-header">
                <h3>🔴 現正播出</h3>
                <span class="live-indicator">LIVE</span>
            </div>
            <div class="now-playing-card" id="now-playing-card">
                <div class="now-playing-thumbnail">
                    <img id="now-playing-image" src="" alt="現正播出節目">
                    <div class="now-playing-overlay">
                        <div class="now-playing-time" id="now-playing-time">14:30</div>
                        <div class="now-playing-status" id="now-playing-status">現正播出</div>
                        <button class="now-playing-play-button" id="now-playing-play-button">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5,3 19,12 5,21"></polygon>
                            </svg>
                        </button>
                    </div>
                </div>
                    <div class="now-playing-content">
                        <div class="now-playing-title-row">
                            <h3 class="now-playing-title" id="now-playing-title">節目名稱</h3>
                            <div class="now-playing-title-tags" id="now-playing-title-tags">
                                <!-- 標題旁的標籤將由 JavaScript 動態載入 -->
                            </div>
                        </div>
                        <p class="now-playing-description" id="now-playing-description">節目描述文字...</p>
                        <div class="now-playing-topics" id="now-playing-topics" style="display: none;">
                            <!-- 節目分類和主題探索標籤已移到標題旁邊 -->
                        </div>
                    </div>
            </div>
        </div>
        
        <!-- 右側：即將播出節目卡片區域 -->
        <div class="upcoming-programs-area">
            <div class="upcoming-programs-header">
                <h3>⏰ 即將播出</h3>
                <span class="upcoming-count" id="upcoming-count">共 24 個節目</span>
            </div>
            <div class="upcoming-programs-list" id="upcoming-programs-list">
                <!-- 即將播出節目列表將由 script.js 動態載入 -->
            </div>
        </div>
    </div>
    
    <div class="section-cta-container">
        <a href="schedule.html" class="section-cta-btn">查看完整節目表</a>
    </div>
  </section>

  <section class="video-section">
    <div class="section-title-container">
        <div class="title-left">
            <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg>
            <h2>精選節目推薦</h2>
        </div>
    </div>
    <div class="video-grid" id="featured-videos"></div>
  </section>

  <!-- 熱門主題分類區塊 -->
  <section class="topics-section">
    <div class="section-title-container">
        <div class="title-left">
            <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            <h2>熱門主題探索</h2>
        </div>
        <div class="title-right">
            <a href="topics.html" class="view-all-btn">探索更多主題</a>
        </div>
    </div>
    <div class="topics-grid" id="homepage-topics">
        <!-- 熱門主題將由 JavaScript 動態載入 -->
    </div>
  </section>

  <!-- 最新上架節目區塊 -->
  <section class="latest-section">
    <div class="section-title-container">
        <div class="title-left">
            <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/></svg>
            <h2>最新上架節目</h2>
        </div>
        <div class="title-right">
            <span class="update-time" id="last-update">最後更新：剛剛</span>
        </div>
    </div>
    <div class="video-grid" id="latest-videos">
        <!-- 最新節目將由 JavaScript 動態載入 -->
    </div>
  </section>

  <!-- 旅遊資訊區塊 -->
  <section class="info-section">
    <div class="info-grid">
        <div class="info-card">
            <div class="info-icon">🌍</div>
            <h3>探索世界</h3>
            <p>帶您走遍全球，發現每個角落的美麗與故事</p>
        </div>
        <div class="info-card">
            <div class="info-icon">🍽️</div>
            <h3>品味美食</h3>
            <p>品嘗各地特色料理，感受不同文化的味覺饗宴</p>
        </div>
        <div class="info-card">
            <div class="info-icon">🏛️</div>
            <h3>文化體驗</h3>
            <p>深入了解當地歷史文化，體驗最真實的在地生活</p>
        </div>
        <div class="info-card">
            <div class="info-icon">📱</div>
            <h3>互動分享</h3>
            <p>與觀眾互動交流，分享您的旅遊心得與經驗</p>
        </div>
    </div>
  </section>

  <!-- 統計數據展示 -->
  <section class="stats-section">
    <div class="stats-container">
        <div class="stat-item">
            <div class="stat-number" id="total-programs">0</div>
            <div class="stat-label">總節目數</div>
        </div>
        <div class="stat-item">
            <div class="stat-number" id="total-countries">0</div>
            <div class="stat-label">探索國家</div>
        </div>
        <div class="stat-item">
            <div class="stat-number" id="total-hours">0</div>
            <div class="stat-label">節目時長</div>
        </div>
        <div class="stat-item">
            <div class="stat-number" id="viewer-count">0</div>
            <div class="stat-label">觀看次數</div>
        </div>
    </div>
  </section>
  
  <div class="fullscreen-player" id="fullscreenPlayer"></div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="media.js"></script>
  <script src="script.js?v=20250909"></script>
  
  <!-- 首頁新增功能 -->
  <script>
    setTimeout(() => {
      // 載入主題分類
      const topicsContainer = document.getElementById('homepage-topics');
      if (topicsContainer) {
        const topics = [
          { title: '城市秘境', desc: '深入城市角落，發現隱藏的美好', icon: '🏙️' },
          { title: '自然秘境', desc: '探索大自然的奧秘與美麗', icon: '🌲' },
          { title: '味覺日誌', desc: '品嘗世界各地的美食文化', icon: '🍽️' },
          { title: '旅途談', desc: '分享旅遊心得與實用技巧', icon: '💬' }
        ];
        topicsContainer.innerHTML = topics.map(t => `
          <div class="topic-card" onclick="location.href='topics.html'">
            <div class="topic-icon">${t.icon}</div>
            <div class="topic-title">${t.title}</div>
            <div class="topic-desc">${t.desc}</div>
          </div>
        `).join('');
      }

      // 載入最新節目（使用已載入的 HERO 影片）
      const latestContainer = document.getElementById('latest-videos');
      if (latestContainer && window.heroVideos && heroVideos.length > 0) {
        latestContainer.innerHTML = heroVideos.slice(0, 6).map(v => `
          <div class="video-card" onclick="playVideo('${v.youtubeId}')">
            <div class="video-thumbnail">
              <img src="${v.thumbnail}" alt="${v.title}" loading="lazy">
              <div class="video-overlay">
                <div class="play-button">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="5,3 19,12 5,21"></polygon>
                  </svg>
                </div>
                <div class="video-duration">${v.duration}分鐘</div>
              </div>
            </div>
            <div class="video-info">
              <h3 class="video-title">${v.title}</h3>
              <div class="video-meta"><span class="video-category">${v.category}</span></div>
            </div>
          </div>
        `).join('');
      }

      // 更新統計數據
      const animateNum = (id, target) => {
        const el = document.getElementById(id);
        if (!el) return;
        let curr = 0, inc = target / 50;
        const timer = setInterval(() => {
          curr += inc;
          if (curr >= target) { curr = target; clearInterval(timer); }
          el.textContent = Math.floor(curr).toLocaleString();
        }, 30);
      };
      animateNum('total-programs', window.heroVideos?.length || 150);
      animateNum('total-countries', 25);
      animateNum('total-hours', Math.round((window.heroVideos?.length || 150) * 0.5));
      animateNum('viewer-count', 85000);
    }, 2000);
  </script>
</body>
</html>
