<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¾Œå°ä¸»æ§å° - èˆªå‘ä¸–ç•Œæ—…éŠé »é“</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    .container { 
      max-width: 1200px; 
      margin: 0 auto; 
      padding: 20px; 
    }
    
    .header { 
      background: white; 
      padding: 30px; 
      border-radius: 15px; 
      margin-bottom: 30px; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      text-align: center;
    }
    
    .header h1 { 
      color: #2b71d2; 
      margin-bottom: 10px; 
      font-size: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }
    
    .header-icon {
      width: 40px;
      height: 40px;
    }
    
    .header p { 
      color: #666; 
      font-size: 1.1rem;
    }
    
    .user-info { 
      background: #e3f2fd; 
      padding: 15px 20px; 
      border-radius: 10px; 
      margin-bottom: 30px; 
      display: flex; 
      justify-content: space-between; 
      align-items: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .user-info .user-details { 
      color: #1976d2; 
      font-weight: 600; 
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .user-icon {
      width: 20px;
      height: 20px;
    }
    
    .user-info .logout-btn { 
      background: #f44336; 
      color: white; 
      border: none; 
      padding: 10px 20px; 
      border-radius: 8px; 
      cursor: pointer; 
      font-size: 14px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .user-info .logout-btn:hover { 
      background: #d32f2f; 
      transform: translateY(-2px);
    }
    
    .logout-icon {
      width: 16px;
      height: 16px;
    }
    
    .dashboard-grid { 
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
      gap: 30px; 
      margin-bottom: 30px;
    }
    
    .module-card { 
      background: white; 
      padding: 30px; 
      border-radius: 15px; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
      border: 3px solid transparent;
    }
    
    .module-card:hover { 
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
      border-color: #2b71d2;
    }
    
    .module-icon { 
      width: 60px;
      height: 60px;
      margin: 0 auto 20px;
      display: block;
      color: #2b71d2;
    }
    
    .module-title { 
      color: #333; 
      font-size: 1.5rem; 
      font-weight: 600; 
      margin-bottom: 15px;
    }
    
    .module-description { 
      color: #666; 
      margin-bottom: 25px; 
      line-height: 1.6;
    }
    
    .module-stats { 
      background: #f8f9fa; 
      padding: 15px; 
      border-radius: 10px; 
      margin-bottom: 20px;
      font-size: 0.9rem;
      color: #666;
    }
    
    .enter-btn { 
      background: linear-gradient(135deg, #2b71d2, #1e5bb8); 
      color: white; 
      border: none; 
      padding: 12px 30px; 
      border-radius: 8px; 
      cursor: pointer; 
      font-size: 1rem; 
      font-weight: 600;
      transition: all 0.3s ease;
      width: 100%;
    }
    
    .enter-btn:hover { 
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(43, 113, 210, 0.3);
    }
    
    .quick-actions { 
      background: white; 
      padding: 25px; 
      border-radius: 15px; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .quick-actions h3 { 
      color: #2b71d2; 
      margin-bottom: 20px; 
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .quick-actions-icon {
      width: 24px;
      height: 24px;
    }
    
    .action-buttons { 
      display: flex; 
      gap: 15px; 
      flex-wrap: wrap;
    }
    
    .action-btn { 
      background: #f8f9fa; 
      color: #333; 
      border: 2px solid #e9ecef; 
      padding: 10px 20px; 
      border-radius: 8px; 
      cursor: pointer; 
      font-size: 14px;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    
    .action-btn:hover { 
      background: #2b71d2; 
      color: white; 
      border-color: #2b71d2;
      transform: translateY(-2px);
    }
    
    .action-btn-icon {
      width: 16px;
      height: 16px;
    }
    
    .status-indicator { 
      display: inline-block; 
      width: 10px; 
      height: 10px; 
      border-radius: 50%; 
      margin-right: 8px;
    }
    
    .status-online { background: #28a745; }
    .status-offline { background: #dc3545; }
    
    @media (max-width: 768px) {
      .dashboard-grid { 
        grid-template-columns: 1fr; 
        gap: 20px;
      }
      
      .module-card { 
        padding: 20px; 
      }
      
      .action-buttons { 
        flex-direction: column;
      }
      
      .header h1 { 
        font-size: 2rem; 
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>
        <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7"/>
          <rect x="14" y="3" width="7" height="7"/>
          <rect x="14" y="14" width="7" height="7"/>
          <rect x="3" y="14" width="7" height="7"/>
        </svg>
        å¾Œå°ç®¡ç†ä¸»æ§å°
      </h1>
      <p>èˆªå‘ä¸–ç•Œæ—…éŠé »é“ - ç¯€ç›®ç®¡ç†ç³»çµ±</p>
    </div>
    
    <!-- ç”¨æˆ¶è³‡è¨Šé¡¯ç¤º -->
    <div class="user-info" id="userInfo" style="display: none;">
      <div class="user-details" id="userDetails"></div>
      <button class="logout-btn" onclick="logout()">
        <svg class="logout-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
          <polyline points="16,17 21,12 16,7"/>
          <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
        ç™»å‡ºç³»çµ±
      </button>
    </div>
    
    <!-- ç®¡ç†æ¨¡çµ„å¡ç‰‡ -->
    <div class="dashboard-grid">
      <!-- çµ±ä¸€ç¯€ç›®ç®¡ç† -->
      <div class="module-card" onclick="navigateToModule('admin-calendar-unified.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          <line x1="16" y1="2" x2="16" y2="6"/>
          <line x1="8" y1="2" x2="8" y2="6"/>
          <line x1="3" y1="10" x2="21" y2="10"/>
          <path d="M8 14h.01"/>
          <path d="M12 14h.01"/>
          <path d="M16 14h.01"/>
          <path d="M8 18h.01"/>
          <path d="M12 18h.01"/>
          <path d="M16 18h.01"/>
        </svg>
        <h2 class="module-title">çµ±ä¸€ç¯€ç›®ç®¡ç†</h2>
        <p class="module-description">
          æ•´åˆæœˆæ›†ã€é€±æ›†ã€æ—¥æ›†ä¸‰ç¨®è¦–åœ–çš„çµ±ä¸€ç®¡ç†ç³»çµ±ï¼Œé¡ä¼¼ Google Calendarã€‚
          æ”¯æ´ç¯€ç›®ä¸Šå‚³ã€ç·¨è¼¯ã€æ‰¹é‡ç®¡ç†å’Œçµ±ä¸€è³‡æ–™ç®¡ç†ã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">é€²å…¥çµ±ä¸€ç®¡ç†</button>
      </div>
      
      <!-- ç¯€ç›®ç¯„æœ¬ç®¡ç† -->
      <div class="module-card" onclick="navigateToModule('admin-templates.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14,2 14,8 20,8"/>
          <line x1="16" y1="13" x2="8" y2="13"/>
          <line x1="16" y1="17" x2="8" y2="17"/>
          <polyline points="10,9 9,9 8,9"/>
        </svg>
        <h2 class="module-title">ç¯€ç›®ç¯„æœ¬ç®¡ç†</h2>
        <p class="module-description">
          ç®¡ç†ç¯€ç›®ç¯„æœ¬åº«ï¼Œæ”¯æ´ç¯„æœ¬å‰µå»ºã€ç·¨è¼¯å’Œå¿«é€Ÿå¥—ç”¨ã€‚
          é©åˆå»ºç«‹æ¨™æº–åŒ–ç¯€ç›®æ ¼å¼å’Œæ‰¹é‡ç¯€ç›®å®‰æ’ã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">é€²å…¥ç¯„æœ¬ç®¡ç†</button>
      </div>
      
      <!-- å·²ä¸Šæ¶ç¯€ç›®ç®¡ç† -->
      <div class="module-card" onclick="navigateToModule('admin-published-programs.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="6" width="20" height="12" rx="2" ry="2"/>
          <rect x="9" y="18" width="6" height="2" rx="1" ry="1"/>
          <rect x="4" y="8" width="16" height="8" rx="1" ry="1" fill="none" stroke="currentColor" stroke-width="0.5" opacity="0.3"/>
          <circle cx="18" cy="8" r="0.8" fill="none" stroke="currentColor" stroke-width="0.5" opacity="0.5"/>
          <path d="M 2 4 Q 4 2 6 4 Q 8 6 10 4 Q 12 2 14 4 Q 16 6 18 4 Q 20 2 22 4" 
                fill="none" stroke="currentColor" stroke-width="0.8" opacity="0.6"/>
        </svg>
        <h2 class="module-title">å·²ä¸Šæ¶ç¯€ç›®ç®¡ç†</h2>
        <p class="module-description">
          æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰å·²ä¸Šæ¶åˆ° Contentful çš„ç¯€ç›®ã€‚
          æ”¯æ´ç¯©é¸ã€çµ±è¨ˆå’Œä¸‹æ¶æ“ä½œã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">é€²å…¥ä¸Šæ¶ç®¡ç†</button>
      </div>
      
      <!-- Contentful åŒæ­¥ç‹€æ…‹ -->
      <div class="module-card" onclick="navigateToModule('contentful-sync-status.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="23,4 23,10 17,10"/>
          <polyline points="1,20 1,14 7,14"/>
          <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
        </svg>
        <h2 class="module-title">Contentful åŒæ­¥ç‹€æ…‹</h2>
        <p class="module-description">
          ç›£æ§å’Œç®¡ç†ç¯€ç›®åŒæ­¥åˆ° Contentful çš„ç‹€æ…‹ã€‚
          æ”¯æ´æ‰¹é‡åŒæ­¥ã€é€²åº¦è¿½è¹¤å’ŒéŒ¯èª¤è¨ºæ–·ã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">æŸ¥çœ‹åŒæ­¥ç‹€æ…‹</button>
      </div>
      
      <!-- æ­¸æª”ç®¡ç† -->
      <div class="module-card" onclick="navigateToModule('admin-archive.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="6" width="20" height="12" rx="2" ry="2"/>
          <rect x="9" y="18" width="6" height="2" rx="1" ry="1"/>
          <rect x="4" y="8" width="16" height="8" rx="1" ry="1" fill="none" stroke="currentColor" stroke-width="0.5" opacity="0.3"/>
          <circle cx="18" cy="8" r="0.8" fill="none" stroke="currentColor" stroke-width="0.5" opacity="0.5"/>
          <path d="M 2 4 Q 4 2 6 4 Q 8 6 10 4 Q 12 2 14 4 Q 16 6 18 4 Q 20 2 22 4" 
                fill="none" stroke="currentColor" stroke-width="0.8" opacity="0.6"/>
        </svg>
        <h2 class="module-title">æ­¸æª”ç®¡ç†</h2>
        <p class="module-description">
          ç®¡ç†å·²æ’­å‡ºçš„ç¯€ç›®æ­¸æª”ï¼Œæ”¯æ´åˆ†é¡ç¯©é¸ã€çµ±è¨ˆåˆ†æå’Œæ‰¹é‡ç·¨è¼¯ã€‚
          é©åˆç¯€ç›®è³‡æ–™çš„é•·æœŸç®¡ç†å’Œåˆ†æã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">é€²å…¥æ­¸æª”ç®¡ç†</button>
      </div>
      
      <!-- ç”¨æˆ¶ç®¡ç† -->
      <div class="module-card" onclick="navigateToModule('admin-users-list.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
        </svg>
        <h2 class="module-title">ç”¨æˆ¶ç®¡ç†</h2>
        <p class="module-description">
          ç®¡ç†ç³»çµ±ç”¨æˆ¶å¸³è™Ÿã€æ¬Šé™è¨­å®šå’Œæ´»å‹•è¨˜éŒ„ã€‚
          æ”¯æ´ç”¨æˆ¶å‰µå»ºã€ç·¨è¼¯ã€åˆªé™¤å’Œæ¬Šé™æ§åˆ¶ã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">é€²å…¥ç”¨æˆ¶ç®¡ç†</button>
      </div>
      
      <!-- ä¸»é¡Œé¤¨ç®¡ç† -->
      <div class="module-card" onclick="navigateToModule('admin-topics-management.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <line x1="21" y1="21" x2="16.65" y2="16.65"/>
          <path d="M8 2v4"/>
          <path d="M16 2v4"/>
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          <path d="M8 14h.01"/>
          <path d="M12 14h.01"/>
          <path d="M16 14h.01"/>
          <path d="M8 18h.01"/>
          <path d="M12 18h.01"/>
          <path d="M16 18h.01"/>
        </svg>
        <h2 class="module-title">ä¸»é¡Œé¤¨ç®¡ç†</h2>
        <p class="module-description">
          ç®¡ç†ä¸»é¡Œæ¢ç´¢é é¢çš„å…§å®¹ã€åœ–ç‰‡å’Œè¨­å®šã€‚
          æ”¯æ´ä¸»é¡Œæ–°å¢ã€ç·¨è¼¯ã€èƒŒæ™¯åœ–ç‰‡è¨­å®šå’Œç‹€æ…‹ç®¡ç†ã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">é€²å…¥ä¸»é¡Œé¤¨ç®¡ç†</button>
      </div>
      
      <!-- ç™»å…¥æ—¥èªŒç®¡ç† -->
      <div class="module-card" onclick="navigateToModule('admin-login-logs.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14,2 14,8 20,8"/>
          <line x1="16" y1="13" x2="8" y2="13"/>
          <line x1="16" y1="17" x2="8" y2="17"/>
          <polyline points="10,9 9,9 8,9"/>
          <circle cx="12" cy="12" r="3"/>
          <path d="M12 1v6"/>
        </svg>
        <h2 class="module-title">ç™»å…¥æ—¥èªŒç®¡ç†</h2>
        <p class="module-description">
          å®Œæ•´çš„ç™»å…¥å¯©è¨ˆç³»çµ±ï¼Œè¨˜éŒ„æ‰€æœ‰ç™»å…¥å˜—è©¦ã€IP å°é–æ©Ÿåˆ¶ã€
          æ¬Šé™åˆ†å±¤ç®¡ç†å’Œå®‰å…¨ä¿è­·åŠŸèƒ½ã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">é€²å…¥æ—¥èªŒç®¡ç†</button>
      </div>
      
        <!-- HERO å½±ç‰‡è¨­å®š -->
        <div class="module-card" onclick="navigateToModule('admin-hero-videos-unified.html')">
        <svg class="module-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
          <path d="M8 21h8m-4-4v4"/>
          <circle cx="12" cy="10" r="2"/>
          <path d="M12 6v4"/>
          <path d="M8 2v4"/>
          <path d="M16 2v4"/>
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
        </svg>
        <h2 class="module-title">HERO å½±ç‰‡è¨­å®š</h2>
        <p class="module-description">
          ç®¡ç†é¦–é  HERO å½±ç‰‡çš„æ’­æ”¾è¨­å®šã€æª¢æŸ¥å½±ç‰‡å¯ç”¨æ€§ã€
          æ›´æ–°å½±ç‰‡æ¸…å–®å’Œæ’­æ”¾é †åºã€‚ç¢ºä¿é¦–é å½±ç‰‡æ­£å¸¸æ’­æ”¾ã€‚
        </p>
        <div class="module-stats">
          <span class="status-indicator status-online"></span>
          ç³»çµ±ç‹€æ…‹ï¼šæ­£å¸¸é‹ä½œ
        </div>
        <button class="enter-btn">é€²å…¥ HERO è¨­å®š</button>
      </div>
    </div>
    
    <!-- å¿«é€Ÿæ“ä½œ -->
    <div class="quick-actions">
      <h3>
        <svg class="quick-actions-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2"/>
        </svg>
        å¿«é€Ÿæ“ä½œ
      </h3>
      <div class="action-buttons">
        <a href="debug-admin-system.html" class="action-btn">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
          </svg>
          ç³»çµ±èª¿è©¦
        </a>
        <a href="admin-login.html" class="action-btn">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 7h3a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3"/>
            <polyline points="10,17 15,12 10,7"/>
            <line x1="15" y1="12" x2="3" y2="12"/>
          </svg>
          é‡æ–°ç™»å…¥
        </a>
        <a href="admin-change-password.html" class="action-btn">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <circle cx="12" cy="16" r="1"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
          </svg>
          ä¿®æ”¹å¯†ç¢¼
        </a>

        <button class="action-btn" onclick="clearCache()">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3,6 5,6 21,6"/>
            <path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
            <line x1="10" y1="11" x2="10" y2="17"/>
            <line x1="14" y1="11" x2="14" y2="17"/>
          </svg>
          æ¸…é™¤å¿«å–
        </button>
        <button class="action-btn" onclick="showSystemInfo()">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="16" x2="12" y2="12"/>
            <line x1="12" y1="8" x2="12.01" y2="8"/>
          </svg>
          ç³»çµ±è³‡è¨Š
        </button>
        <a href="create-admin-simple.html" class="action-btn" id="createAdminBtn" style="display: none;">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
            <circle cx="8.5" cy="7" r="4"/>
            <line x1="20" y1="8" x2="20" y2="14"/>
            <line x1="23" y1="11" x2="17" y2="11"/>
          </svg>
          å‰µå»ºç®¡ç†å“¡
        </a>
        <a href="admin-hero-videos-unified.html" class="action-btn">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
            <path d="M8 21h8m-4-4v4"/>
            <circle cx="12" cy="10" r="2"/>
            <path d="M12 6v4"/>
            <path d="M8 2v4"/>
            <path d="M16 2v4"/>
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          </svg>
          HERO å½±ç‰‡ç®¡ç†
        </a>
        <a href="contentful-main-console.html" class="action-btn">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
            <path d="M8 21h8m-4-4v4"/>
            <circle cx="12" cy="10" r="2"/>
            <path d="M12 6v4"/>
            <path d="M8 2v4"/>
            <path d="M16 2v4"/>
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          </svg>
          Contentful ä¸»æ§å°
        </a>
        <a href="admin-topics-management.html" class="action-btn">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
          </svg>
          ä¸»é¡Œé¤¨ç®¡ç†
        </a>
        <a href="admin-login-logs.html" class="action-btn">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14,2 14,8 20,8"/>
            <line x1="16" y1="13" x2="8" y2="13"/>
            <line x1="16" y1="17" x2="8" y2="17"/>
            <polyline points="10,9 9,9 8,9"/>
          </svg>
          ç™»å…¥æ—¥èªŒ
        </a>
        <a href="contentful-main-console.html" class="action-btn">
          <svg class="action-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7"/>
            <rect x="14" y="3" width="7" height="7"/>
            <rect x="14" y="14" width="7" height="7"/>
            <rect x="3" y="14" width="7" height="7"/>
          </svg>
          Contentful ä¸»æ§å°
        </a>
        
        <!-- åŒæ­¥ç‹€æ…‹é¡¯ç¤º -->
        <div class="sync-status" id="syncStatus">
          <div class="sync-info">
            <span class="sync-icon" id="syncIcon">ğŸ”„</span>
            <span class="sync-text" id="syncText">åŒæ­¥ä¸­...</span>
          </div>
          <button class="sync-btn" id="manualSyncBtn" onclick="manualSync()">
            <svg class="sync-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 2l-2 2m-2 2l-2-2m-2 2l2 2m2-2l2-2"/>
              <path d="M3 22l2-2m2-2l-2 2m-2-2l-2-2m2 2l2 2"/>
              <path d="M21 16v-3a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3"/>
              <path d="M7 10h10"/>
              <path d="M7 14h10"/>
            </svg>
            æ‰‹å‹•åŒæ­¥
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script type="module">
    // Firebase 9 æ¨¡çµ„åŒ–å°å…¥
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js';
    import { getAuth } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js';
    import { getFirestore, enableIndexedDbPersistence } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js';

    // Firebase é…ç½®
    const firebaseConfig = {
      apiKey: "AIzaSyB5MLyG5H1sCflHFU7WeKQCmC0Ft5TIqjM",
      authDomain: "tv-tcawg-com.firebaseapp.com",
      projectId: "tv-tcawg-com",
      storageBucket: "tv-tcawg-com.firebasestorage.app",
      messagingSenderId: "313251141126",
      appId: "1:313251141126:web:88ef97ce28798c0a2e9587",
      measurementId: "G-83Z5VTRTZH"
    };

    // åˆå§‹åŒ– Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // å•Ÿç”¨ Firestore é›¢ç·šæ”¯æ´
    enableIndexedDbPersistence(db).catch((err) => {
      if (err.code === 'failed-precondition') {
        console.log('å¤šå€‹æ¨™ç±¤é å¯èƒ½å½±éŸ¿é›¢ç·šæ”¯æ´');
      } else if (err.code === 'unimplemented') {
        console.log('ç€è¦½å™¨ä¸æ”¯æ´é›¢ç·šæ”¯æ´');
      }
    });

    // è¨­å®šå…¨åŸŸè®Šæ•¸
    window.firebaseAuth = auth;
    window.firebaseDb = db;
    window.firebaseApp = app;
    window.firebase9Loaded = true;

    console.log('Firebase å·²åˆå§‹åŒ–');
  </script>

  <!-- ç®¡ç†å“¡å¸³è™Ÿæœå‹™ -->
  <script src="admin-accounts-firebase.js"></script>

  <script>
    // ç™»å…¥é©—è­‰æª¢æŸ¥
    function checkAuth() {
      // å„ªå…ˆæª¢æŸ¥ Firebase èªè­‰ç‹€æ…‹
      if (window.firebaseAuth && window.firebaseAuth.currentUser) {
        const firebaseUser = window.firebaseAuth.currentUser;
        console.log('Firebase ç”¨æˆ¶å·²ç™»å…¥:', firebaseUser.email);
        
        // æª¢æŸ¥æ˜¯å¦ç‚ºå·²çŸ¥çš„è¶…ç´šç®¡ç†å“¡ï¼ˆå„ªå…ˆæª¢æŸ¥ï¼‰
        if (firebaseUser.email === 'sammyzomb@gmail.com') {
          console.log('è­˜åˆ¥ç‚ºè¶…ç´šç®¡ç†å“¡ (sammyzomb@gmail.com)');
          return {
            uid: firebaseUser.uid,
            email: firebaseUser.email,
            displayName: 'Sammy Zomb',
            name: 'Sammy Zomb',
            role: 'super_admin',
            permissions: ['read', 'write', 'delete', 'publish', 'admin', 'system'],
            provider: 'firebase'
          };
        }
        
        // å˜—è©¦å¾ç®¡ç†å“¡å¸³è™Ÿæœå‹™ç²å–ç”¨æˆ¶è³‡è¨Š
        if (window.adminAccountsService) {
          try {
            // æ ¹æ“šé›»å­éƒµä»¶æŸ¥æ‰¾ç”¨æˆ¶å¸³è™Ÿè³‡è¨Š
            const accountsData = window.adminAccountsService.getLocalBackup();
            if (accountsData && accountsData.accounts) {
              const account = accountsData.accounts.find(acc => acc.email === firebaseUser.email);
              if (account) {
                console.log('æ‰¾åˆ°ç”¨æˆ¶å¸³è™Ÿè³‡è¨Š:', account);
                return {
                  uid: firebaseUser.uid,
                  email: firebaseUser.email,
                  displayName: account.name || 'ç®¡ç†å“¡',
                  name: account.name || 'ç®¡ç†å“¡',
                  role: account.role || 'admin',
                  permissions: account.permissions || [],
                  provider: 'firebase'
                };
              }
            }
          } catch (error) {
            console.log('ç„¡æ³•å¾ç®¡ç†å“¡å¸³è™Ÿæœå‹™ç²å–è³‡è¨Š:', error);
          }
        }
        
        // é è¨­è¿”å›ç®¡ç†å“¡è§’è‰²
        return {
          uid: firebaseUser.uid,
          email: firebaseUser.email,
          displayName: firebaseUser.displayName || 'ç®¡ç†å“¡',
          name: firebaseUser.displayName || firebaseUser.email || 'ç®¡ç†å“¡',
          role: 'admin',
          provider: 'firebase'
        };
      }
      
      // æª¢æŸ¥æœ¬åœ° sessionStorage
      const user = sessionStorage.getItem('adminUser');
      const loginTime = sessionStorage.getItem('loginTime');
      
      if (!user || !loginTime) {
        // æœªç™»å…¥ï¼Œè·³è½‰åˆ°ç™»å…¥é é¢
        window.location.href = 'admin-login.html';
        return null;
      }
      
      // æª¢æŸ¥ç™»å…¥æ˜¯å¦è¶…é 8 å°æ™‚
      const loginDate = new Date(loginTime);
      const now = new Date();
      const hoursDiff = (now - loginDate) / (1000 * 60 * 60);
      
      if (hoursDiff >= 8) {
        // ç™»å…¥å·²éæœŸï¼Œæ¸…é™¤ session ä¸¦è·³è½‰åˆ°ç™»å…¥é é¢
        sessionStorage.removeItem('adminUser');
        sessionStorage.removeItem('loginTime');
        window.location.href = 'admin-login.html';
        return null;
      }
      
      return JSON.parse(user);
    }
    
    // ç™»å‡ºåŠŸèƒ½
    function logout() {
      // æ¸…é™¤æœ¬åœ°å­˜å„²
      sessionStorage.removeItem('adminUser');
      sessionStorage.removeItem('loginTime');
      
      // æ¸…é™¤ Firebase èªè­‰ç‹€æ…‹
      if (window.firebaseAuth) {
        window.firebaseAuth.signOut().then(() => {
          console.log('Firebase ç”¨æˆ¶å·²ç™»å‡º');
          window.location.href = 'admin-login.html';
        }).catch((error) => {
          console.error('Firebase ç™»å‡ºéŒ¯èª¤:', error);
          window.location.href = 'admin-login.html';
        });
      } else {
        // å¦‚æœ Firebase æœªè¼‰å…¥ï¼Œç›´æ¥è·³è½‰
        window.location.href = 'admin-login.html';
      }
    }
    
    // æ›´æ–°ç”¨æˆ¶è³‡è¨Šé¡¯ç¤º
    function updateUserInfo() {
      const userInfo = document.getElementById('userInfo');
      const userDetails = document.getElementById('userDetails');
      const createAdminBtn = document.getElementById('createAdminBtn');
      
      if (currentUser) {
        userInfo.style.display = 'flex';
        
        // å®‰å…¨åœ°ç²å–ç”¨æˆ¶è³‡è¨Šï¼Œé¿å… undefined
        const userName = currentUser.name || currentUser.displayName || currentUser.email || 'ç®¡ç†å“¡';
        const userRole = currentUser.role || 'ç®¡ç†å“¡';
        const loginTime = sessionStorage.getItem('loginTime');
        const loginTimeStr = loginTime ? new Date(loginTime).toLocaleString() : 'æœªçŸ¥';
        
        userDetails.innerHTML = `
          <svg class="user-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
          <span class="status-indicator status-online"></span>
          æ­¡è¿ï¼Œ${userName} (${userRole}) | 
          ç™»å…¥æ™‚é–“ï¼š${loginTimeStr} | 
          <span style="color: #2b71d2; font-weight: 600;">ç‰ˆæœ¬ï¼šv1.2.0 (2025/08/28 18:30:00)</span>
        `;
        
        // æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦æœ‰ç®¡ç†å…¶ä»–ç®¡ç†å“¡çš„æ¬Šé™
        console.log('æª¢æŸ¥ç”¨æˆ¶æ¬Šé™:', {
          email: currentUser.email,
          role: userRole,
          permissions: currentUser.permissions
        });
        
        // å„ªå…ˆæª¢æŸ¥æ˜¯å¦ç‚ºå·²çŸ¥çš„è¶…ç´šç®¡ç†å“¡
        const isKnownSuperAdmin = currentUser.email === 'sammyzomb@gmail.com';
        const hasAdminPermission = isKnownSuperAdmin || 
                                 userRole === 'super_admin' || 
                                 (currentUser.permissions && currentUser.permissions.includes('admin'));
        
        if (hasAdminPermission) {
          console.log('ç”¨æˆ¶å…·æœ‰ç®¡ç†å“¡ç®¡ç†æ¬Šé™ï¼Œé¡¯ç¤ºå‰µå»ºç®¡ç†å“¡æŒ‰éˆ•');
          createAdminBtn.style.display = 'inline-flex';
        } else {
          console.log('ç”¨æˆ¶ä¸å…·æœ‰ç®¡ç†å“¡ç®¡ç†æ¬Šé™ï¼Œéš±è—å‰µå»ºç®¡ç†å“¡æŒ‰éˆ•');
          createAdminBtn.style.display = 'none';
        }
      }
    }
    
    // å°èˆªåˆ°æŒ‡å®šæ¨¡çµ„
    function navigateToModule(url) {
      // æ·»åŠ éæ¸¡å‹•ç•«æ•ˆæœ
      document.body.style.opacity = '0.7';
      setTimeout(() => {
        window.location.href = url;
      }, 300);
    }
    
    // æ¸…é™¤å¿«å–
    function clearCache() {
      if (confirm('ç¢ºå®šè¦æ¸…é™¤ç€è¦½å™¨å¿«å–å—ï¼Ÿé€™å°‡æ¸…é™¤æ‰€æœ‰æš«å­˜çš„è³‡æ–™ã€‚')) {
        sessionStorage.clear();
        localStorage.clear();
        alert('å¿«å–å·²æ¸…é™¤ï¼è«‹é‡æ–°ç™»å…¥ã€‚');
        window.location.href = 'admin-login.html';
      }
    }
    
    // é¡¯ç¤ºç³»çµ±è³‡è¨Š
    function showSystemInfo() {
      const info = `
ç³»çµ±è³‡è¨Šï¼š
- ç€è¦½å™¨ï¼š${navigator.userAgent}
- è¢å¹•è§£æåº¦ï¼š${screen.width}x${screen.height}
- ç™»å…¥ç”¨æˆ¶ï¼š${currentUser.name}
- ç”¨æˆ¶è§’è‰²ï¼š${currentUser.role}
- ç™»å…¥æ™‚é–“ï¼š${new Date(sessionStorage.getItem('loginTime')).toLocaleString()}
- ç³»çµ±æ™‚é–“ï¼š${new Date().toLocaleString()}
- ç•¶å‰ç‰ˆæœ¬ï¼šv1.2.0
- ç‰ˆæœ¬ç™¼å¸ƒï¼š2025/08/28 18:30:00
- æœ€å¾Œæ›´æ–°ï¼š2025/08/28
      `;
      alert(info);
    }
    
    // å…¨åŸŸè®Šæ•¸
    let currentUser = null;
    
    // é é¢è¼‰å…¥æ™‚æª¢æŸ¥ç™»å…¥ç‹€æ…‹
    document.addEventListener('DOMContentLoaded', async function() {
      // ç­‰å¾… Firebase å’Œç®¡ç†å“¡å¸³è™Ÿæœå‹™è¼‰å…¥
      const waitForServices = setInterval(async () => {
        if (window.firebaseAuth && window.adminAccountsService) {
          clearInterval(waitForServices);
          console.log('Firebase å’Œç®¡ç†å“¡å¸³è™Ÿæœå‹™å·²è¼‰å…¥');
          
          // æª¢æŸ¥ç”¨æˆ¶ç™»å…¥ç‹€æ…‹
          currentUser = checkAuth();
          if (!currentUser) return;
          
          // æ›´æ–°ç”¨æˆ¶è³‡è¨Šé¡¯ç¤º
          updateUserInfo();
          
          // æ·»åŠ é é¢è¼‰å…¥å‹•ç•«
          document.body.style.opacity = '0';
          setTimeout(() => {
            document.body.style.transition = 'opacity 0.5s ease';
            document.body.style.opacity = '1';
          }, 100);
        }
      }, 100);
      
      // å¦‚æœ 10 ç§’å¾Œæœå‹™ä»æœªè¼‰å…¥ï¼Œé¡¯ç¤ºéŒ¯èª¤
      setTimeout(() => {
        if (!window.firebaseAuth || !window.adminAccountsService) {
          console.error('ç³»çµ±æœå‹™è¼‰å…¥è¶…æ™‚');
          alert('âŒ ç³»çµ±æœå‹™è¼‰å…¥è¶…æ™‚\n\nè«‹é‡æ–°æ•´ç†é é¢ã€‚');
        }
      }, 10000);
    });
  </script>
</body>
</html>

