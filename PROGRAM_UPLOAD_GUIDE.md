# 節目上架流程指南

## 🎯 概述

本指南說明如何透過統一節目管理系統將節目上架到 Contentful，並讓旅遊頻道能夠根據時間自動播放。

## 📋 完整流程

### 1. 準備工作

#### 1.1 開啟統一節目管理系統
- 開啟 `admin-calendar-unified.html`
- 這是主要的節目管理界面

#### 1.2 初始化 Contentful 系統
- 點擊「🚀 Contentful 主控台」按鈕
- 在主控台中點擊「🔧 系統操作」→「初始化系統」
- 確保所有 SDK 都已載入

### 2. 節目規劃

#### 2.1 添加節目
- 在日曆中選擇日期
- 點擊「+ 添加節目」按鈕
- 填寫節目資訊：
  - 節目名稱
  - 播出時間
  - 節目類型
  - 影片連結（YouTube ID 或 MP4 網址）
  - 節目描述

#### 2.2 安排時間表
- 選擇播出日期和時間
- 系統會自動檢查時間槽是否可用
- 可以安排多個節目到不同時段

### 3. 節目上架

#### 3.1 選擇要上架的節目
- 在日曆中點擊節目進行選擇
- 或使用「🔍 調試節目」查看所有節目

#### 3.2 執行上架
- 點擊「📺 上架選中節目」按鈕
- 確認要上架的節目清單
- 系統會顯示上架進度

#### 3.3 上架過程
1. **初始化系統**：確保 Contentful 連線正常
2. **準備數據**：將節目資料轉換為 Contentful 格式
3. **上架節目**：逐個上架到 Contentful
4. **記錄結果**：顯示成功/失敗統計

### 4. 節目播放

#### 4.1 旅遊頻道讀取
- 旅遊頻道會從 Contentful 讀取節目表
- 根據當前時間顯示對應節目
- 自動播放 Hero 影片

#### 4.2 時間同步
- 使用台灣時間 (UTC+8)
- 每小時更新節目表
- 自動切換到當前節目

## 🔧 技術架構

### Contentful 內容模型

#### 影片 (Video)
- 影片標題
- 影片類型 (YouTube/MP4)
- YouTube ID
- MP4 影片網址
- 首頁 HERO 設定
- 精選節目推薦
- 標籤和描述

#### 排表項目 (Schedule Item)
- 顯示名稱
- 播出日期
- 時段
- 槽位序號 (0-11)
- 是否首播
- 備註

### 數據流程

```
統一節目管理系統 → Contentful → 旅遊頻道
     ↓                ↓           ↓
   節目規劃        數據存儲      自動播放
   時間安排        內容管理      時間同步
   上架操作        版本控制      用戶體驗
```

## 📱 使用界面

### 統一節目管理系統
- **日曆視圖**：直觀的節目安排
- **節目編輯**：詳細的節目資訊
- **上架功能**：一鍵上架到 Contentful
- **狀態監控**：實時顯示上架狀態

### Contentful 主控台
- **系統診斷**：檢查 SDK 和連線狀態
- **測試功能**：測試上架和連線
- **日誌監控**：查看詳細操作記錄
- **配置管理**：管理 API 設定

## 🚀 快速開始

### 第一次使用

1. **開啟統一節目管理系統**
   ```
   file:///C:/Users/USER/Documents/TV.TCAWG.COM/travel-video-site/admin-calendar-unified.html
   ```

2. **初始化 Contentful**
   - 點擊「🚀 Contentful 主控台」
   - 執行「🔧 系統操作」→「初始化系統」

3. **添加今日節目**
   - 選擇今日日期
   - 點擊「+ 添加節目」
   - 填寫節目資訊

4. **上架節目**
   - 點擊「📺 上架選中節目」
   - 確認上架清單
   - 等待上架完成

### 日常使用

1. **規劃節目**：在日曆中安排節目
2. **上架節目**：使用上架功能同步到 Contentful
3. **監控狀態**：透過主控台查看系統狀態
4. **檢查播放**：確認旅遊頻道正常播放

## 🔍 故障排除

### 常見問題

#### Management SDK 未載入
- **解決方案**：重新載入頁面，等待 SDK 載入完成
- **檢查方法**：在主控台查看 SDK 狀態

#### 節目上架失敗
- **檢查項目**：
  - Contentful 系統是否已初始化
  - 網路連線是否正常
  - API Token 是否正確
- **解決方案**：使用主控台進行系統診斷

#### 節目無法播放
- **檢查項目**：
  - 節目是否已上架到 Contentful
  - 時間設定是否正確
  - 影片連結是否有效
- **解決方案**：檢查旅遊頻道的節目表載入

### 日誌查看

- **統一節目管理系統**：查看上架進度和結果
- **Contentful 主控台**：查看詳細的系統日誌
- **瀏覽器控制台**：查看 JavaScript 錯誤

## 📞 支援

如果遇到問題，請：

1. 檢查瀏覽器控制台的錯誤訊息
2. 使用 Contentful 主控台進行系統診斷
3. 查看詳細的操作日誌
4. 確認網路連線和 API 設定

## 🎉 成功指標

節目上架成功後，您應該看到：

- ✅ 統一節目管理系統顯示「上架成功」
- ✅ Contentful 主控台顯示「上架完成」
- ✅ 旅遊頻道顯示對應的節目
- ✅ 節目在指定時間自動播放

現在您可以開始使用完整的節目上架流程了！
