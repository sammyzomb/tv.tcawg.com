<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ä¸»é¡Œæ¢ç´¢ï½œèˆªå‘ä¸–ç•Œæ—…éŠé »é“</title>

  <!-- ç«™å…§æ¨£å¼ -->
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">

  <!-- å¿…è¦å¥—ä»¶ï¼šContentful + Twemoji -->
  <!-- ç§»é™¤ Contentful èˆ‡ browser-configï¼ˆæ­¤é ä¸éœ€è¦ï¼‰ -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/contentful@latest/dist/contentful.browser.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js" crossorigin="anonymous"></script>
  <!-- <script src="browser-config.js"></script> -->

  <!-- æœ¬é æ¨£å¼ -->
  <style>
    :root{ --bg:#ffffff; --text:#111827; --card:#ffffff; --card-border:rgba(0,0,0,.06); --accent:#e0b46a; --active-bg:#f6f6f6; }
    .dark-theme{ --bg:#0b1620; --text:#e5eef9; --card:#0f2133; --card-border:rgba(255,255,255,.08); --active-bg:#0f2133; }
    
    body{ 
      background:var(--bg); 
      color:var(--text); 
      margin:0 !important; 
      padding: 0 !important;
      min-height: 100vh !important;
    }

    .page-wrap { 
      max-width: 1200px !important; 
      margin: 0 auto !important; 
      padding: 20px 5% !important; 
    }
    
    .page-head { 
      display:flex !important; 
      align-items:center !important; 
      gap:12px !important; 
      margin: 0 0 20px 0 !important; 
      padding: 0 !important;
    }
    
    .page-head h1 { 
      font-weight:900 !important; 
      font-size:24px !important; 
      margin:0 !important; 
      padding: 0 !important;
    }
    
    .hint { 
      color:#8aa4c2 !important; 
      font-size:14px !important; 
      margin: 0 0 30px 0 !important; 
      padding: 0 !important;
    }

    /* æœå°‹åŠŸèƒ½ */
    .search-section {
      margin: 0 0 40px 0 !important;
      padding: 0 !important;
    }

    .search-box {
      display: flex;
      max-width: 500px;
      margin: 0 auto 20px !important;
      border: 2px solid var(--card-border);
      border-radius: 12px;
      overflow: hidden;
      background: var(--bg);
      transition: all 0.3s ease;
    }

    .search-box:focus-within {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(224, 180, 106, 0.1);
    }

    .search-input {
      flex: 1;
      padding: 12px 16px;
      border: none;
      outline: none;
      font-size: 15px;
      background: transparent;
      color: var(--text);
    }

    .search-input::placeholder {
      color: #9ca3af;
    }

    .search-btn {
      padding: 12px 16px;
      border: none;
      background: var(--accent);
      color: white;
      cursor: pointer;
      transition: background 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .search-btn:hover {
      background: #d1a55c;
    }

    .search-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px !important;
      justify-content: center;
      margin-top: 0 !important;
      margin-bottom: 0 !important;
      padding: 0 !important;
      line-height: 1 !important;
    }

    .search-tag {
      padding: 6px 12px !important;
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: 12px !important;
      color: var(--text);
      font-size: 13px !important;
      cursor: pointer;
      transition: all 0.3s ease;
      user-select: none;
      margin: 0 !important;
      line-height: 1.2 !important;
    }

    .search-tag:hover {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    .search-tag.active {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    /* ä¸»é¡Œåˆ†é¡ç¶²æ ¼ */
    .topics-section {
      margin-bottom: 50px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 30px;
      color: var(--text);
      text-align: center;
    }

    /* Reset å¯èƒ½ä¾†è‡ªå…¨åŸŸæ¨£å¼çš„å¹²æ“¾ */
    .navbar + .page-wrap { margin-top: 0 !important; }
    .page-wrap { margin-top: 0 !important; }
    .page-head{ display:none !important; }
    .simple-page-title{ font-weight:900; font-size:24px; margin:0 0 6px 0; color:var(--text); }
    .page-head h1 { writing-mode: horizontal-tb !important; transform:none !important; rotate:none !important; }
    .page-head { position: relative; }
    
    /* ä¿®å¾©ç‰ˆé¢å•é¡Œ */
    .header-row {
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      margin-bottom: 20px !important;
      gap: 20px !important;
    }
    
    .header-left {
      flex: 0 0 auto !important;
      text-align: left !important;
    }
    
    .header-right {
      flex: 1 1 auto !important;
      display: flex !important;
      justify-content: flex-end !important;
    }
    
    .header-right .search-box {
      width: 100% !important;
      max-width: 400px !important;
      margin: 0 !important;
    }

    /* éŸ¿æ‡‰å¼è¨­è¨ˆä¿®å¾© - å°‡åœ¨ä¸‹æ–¹åˆä½µåˆ°ä¸»è¦åª’é«”æŸ¥è©¢ä¸­ */

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 30px;
      margin-top: 0;
    }

    .topic-card {
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: 16px;
      padding: 0;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      min-height: 280px;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }


    .topic-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      border-color: var(--accent);
    }

    .topic-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.7) 100%);
      z-index: 1;
    }

    .topic-content {
      position: relative;
      z-index: 2;
      padding: 24px;
      color: white;
    }

    .topic-icon {
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
      color: white;
      font-size: 24px;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .topic-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 8px;
      color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    .topic-desc {
      color: rgba(255, 255, 255, 0.9);
      font-size: 14px;
      line-height: 1.4;
      margin-bottom: 16px;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }

    .topic-stats {
      display: flex;
      align-items: center;
      gap: 16px;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.8);
    }

    .topic-stats span {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    /* ç¯€ç›®åˆ—è¡¨ */
    .videos-section {
      margin: 0 !important;
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
    }

    .video-card {
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .video-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .video-thumb {
      aspect-ratio: 16/9;
      overflow: hidden;
      background: var(--card-bg);
    }

    .video-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .video-content {
      padding: 20px;
    }

    .video-title {
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text);
      line-height: 1.4;
      font-size: 16px;
    }

    .video-desc {
      font-size: 14px;
      color: #6b7280;
      line-height: 1.5;
      margin-bottom: 16px;
    }

    .video-cta {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s ease;
      font-size: 14px;
    }

    .video-cta:hover {
      background: #d1a55c;
    }

    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 768px) {
      .page-wrap {
        padding: 16px 4% !important;
      }
      
      .header-row {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 16px !important;
      }
      
      .header-left {
        text-align: center !important;
      }
      
      .header-right {
        justify-content: center !important;
      }
      
      .header-right .search-box {
        max-width: 100% !important;
      }
      
      .topics-grid {
        grid-template-columns: 1fr;
        gap: 24px;
      }
      
      .topic-card {
        padding: 24px;
        min-height: 180px;
      }
      
      .video-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
      }
      
      .search-section {
        margin: 0 0 30px 0 !important;
      }
    }
  </style>
</head>
<body>

  <!-- å°è¦½åˆ— -->
  <div class="navbar">
    <a class="logo" href="index.html"><img src="logo.png" alt="èˆªå‘ä¸–ç•Œæ—…éŠé »é“ LOGO" /></a>
    
    <nav class="desktop-nav">
      <a href="index.html">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9L12 2L21 9V20a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        <span class="nav-text">é¦–é </span>
      </a>
      <a href="videos.html">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8m-4-4v4"/></svg>
        <span class="nav-text">æ‰€æœ‰ç¯€ç›®</span>
      </a>
      <a href="schedule.html">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
        <span class="nav-text">ç¯€ç›®è¡¨</span>
      </a>
      <a href="topics.html" class="active">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        <span class="nav-text">ä¸»é¡Œæ¢ç´¢</span>
      </a>
    </nav>

    <div class="nav-actions">
        <a href="#" id="theme-switcher" title="åˆ‡æ›ä¸»é¡Œ">
            <svg id="theme-icon-sun" class="nav-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            <svg id="theme-icon-moon" class="nav-icon" style="display: none;" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
        </a>
        <a href="login.html" class="login-link">
            <svg class="nav-icon" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="7" r="4.5" stroke-width="2"/><ellipse cx="10" cy="15.2" rx="6.8" ry="3.2" stroke-width="2"/></svg>
            <span class="nav-text">æœƒå“¡ç™»å…¥</span>
        </a>
        <button id="hamburger-btn" class="hamburger-btn">
            <svg viewBox="0 0 100 80" width="24" height="24">
              <rect width="100" height="15" rx="8"></rect>
              <rect y="30" width="100" height="15" rx="8"></rect>
              <rect y="60" width="100" height="15" rx="8"></rect>
            </svg>
        </button>
    </div>
  </div>

  <div id="side-menu" class="side-menu">
    <a href="index.html">é¦–é </a>
    <a href="videos.html">æ‰€æœ‰ç¯€ç›®</a>
    <a href="schedule.html">ç¯€ç›®è¡¨</a>
    <a href="topics.html">ä¸»é¡Œæ¢ç´¢</a>
  </div>
  <div id="menu-overlay" class="menu-overlay"></div>

  <!-- ä¸»è¦å…§å®¹ -->
  <div class="page-wrap">
    <div class="header-row">
      <div class="header-left">
        <div class="simple-page-title">ä¸»é¡Œæ¢ç´¢</div>
        <p class="hint">æœå°‹å’Œæ¢ç´¢ä¸åŒä¸»é¡Œçš„æ—…éŠç¯€ç›®</p>
      </div>
      <div class="header-right">
        <div class="search-box">
          <input type="text" id="search-input" placeholder="è¼¸å…¥é—œéµå­—æœå°‹ç¯€ç›®..." class="search-input">
          <button id="search-btn" class="search-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- æœå°‹æ¨™ç±¤åˆ— -->
    <div class="search-section">
      <div class="search-tags" id="search-tags">
        <!-- ç†±é–€æœå°‹æ¨™ç±¤å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
      </div>
    </div>

    <!-- ä¸»é¡Œåˆ†é¡ç¶²æ ¼ -->
    <div class="topics-section">
      <h2 class="section-title">ç†±é–€ä¸»é¡Œåˆ†é¡</h2>
      <div class="topics-grid" id="topics-grid">
        <!-- ä¸»é¡Œåˆ†é¡å¡ç‰‡å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
      </div>
    </div>

    <!-- ç²¾é¸ç¯€ç›® -->
    <div class="videos-section" id="featured-videos-section" style="display: none;">
      <h2 class="section-title">ç²¾é¸ç¯€ç›®</h2>
      <div class="video-grid" id="featured-videos">
        <!-- ç¯€ç›®å¡ç‰‡å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
      </div>
    </div>
  </div>

  <!-- å…¨è¢å¹•æ’­æ”¾å™¨ -->
  <div class="fullscreen-player" id="fullscreenPlayer"></div>

  <!-- é™¤éŒ¯è³‡è¨Š -->
  <div id="topics-debug" style="max-width:1200px;margin:20px auto;padding:12px 16px;border:1px dashed #ccc;font:12px/1.4 monospace;color:#555;background:#fafafa;display:none"></div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <!-- ç§»é™¤ script.js å¼•ç”¨ï¼Œé¿å…è¼‰å…¥ç¯€ç›®è¡¨åŠŸèƒ½ -->
  
  <!-- å…§åµŒ JavaScript ç¢ºä¿åŠŸèƒ½æ­£å¸¸ -->
  <script>
    function dbg(msg){
      const box = document.getElementById('topics-debug');
      if (!box) return;
      box.style.display = 'block';
      box.innerHTML += msg + '<br/>';
      console.log('[topics]', msg);
    }

    // ä¸»é¡Œåˆ‡æ›ï¼šæ”¯æ´å¤ªé™½/æœˆäº®æŒ‰éˆ•ï¼Œä¸¦è¨˜ä½ä½¿ç”¨è€…é¸æ“‡
    function applyTheme(theme){
      const isDark = theme === 'dark';
      document.body.classList.toggle('dark-theme', isDark);
      const sun = document.getElementById('theme-icon-sun');
      const moon = document.getElementById('theme-icon-moon');
      if (sun && moon){
        sun.style.display = isDark ? 'none' : '';
        moon.style.display = isDark ? '' : 'none';
      }
      try { localStorage.setItem('site-theme', theme); } catch(e) {}
    }

    function initThemeToggle(){
      let saved = 'light';
      try { saved = localStorage.getItem('site-theme') || 'light'; } catch(e) {}
      applyTheme(saved);
      const switcher = document.getElementById('theme-switcher');
      if (switcher){
        switcher.addEventListener('click', (ev)=>{
          ev.preventDefault();
          const next = document.body.classList.contains('dark-theme') ? 'light' : 'dark';
          applyTheme(next);
        });
      }
    }

    // ä¸»é¡Œåˆ†é¡è³‡æ–™
    const TOPICS_DATA = [
      {
        id: 'city-secrets',
        title: 'åŸå¸‚ç§˜å¢ƒ',
        description: 'ã€Šç¹è‘—åœ°çƒè·‘/åŸå¸‚ç§˜å¢ƒ City Secretsã€‹- æ·±å…¥åŸå¸‚è§’è½ã€å¸‚é›†ã€æ–‡åŒ–æ™¯é»ï¼Œç”¨å¯¦åœ°é«”é©—å‘ˆç¾åŸå¸‚æ•…äº‹',
        icon: 'ğŸ™ï¸',
        tags: ['å°çœ¾æ™¯é»', 'åœ¨åœ°ç”Ÿæ´»', 'å¤œå¸‚', 'ç‰¹è‰²å’–å•¡é¤¨'],
        videoCount: 28,
        backgroundImage: 'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
      },
      {
        id: 'taste-journal',
        title: 'å‘³è¦ºæ—¥èªŒ',
        description: 'ã€Šå‘³è¦ºæ—¥èªŒ Taste Journalã€‹- å“å˜—ç•¶åœ°æ–™ç†èˆ‡è¡—é ­å°åƒï¼Œè¨ªå•é¤å»³è€é—†æˆ–å»šå¸«ï¼Œåˆ†äº«é£Ÿç‰©èƒŒå¾Œçš„æ•…äº‹',
        icon: 'ğŸ½ï¸',
        tags: ['ç¾é£Ÿæ•…äº‹', 'è¡—é ­å°åƒ', 'åœ¨åœ°æ–™ç†', 'æ–‡åŒ–èƒŒæ™¯'],
        videoCount: 35,
        backgroundImage: 'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
      },
      {
        id: 'travel-talk',
        title: 'æ—…é€”è«‡',
        description: 'ã€Šæ—…é€”è«‡ Travel Talkã€‹- é‚€è«‹æ—…éŠé”äººã€éƒ¨è½å®¢ã€åœ¨åœ°äººï¼Œåˆ†äº«æ—…è¡Œå¿ƒå¾—ã€æŠ€å·§èˆ‡è¶£è',
        icon: 'ğŸ’¬',
        tags: ['æ—…éŠæŠ€å·§', 'ç¯€çœé ç®—', 'äº’å‹•è¨è«–', 'å¯¦ç”¨è³‡è¨Š'],
        videoCount: 22,
        backgroundImage: 'https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
      },
      {
        id: 'slow-town',
        title: 'æ…¢éŠå°é®',
        description: 'ã€Šæ…¢éŠå°é® Slow Townã€‹- èµ°è¨ªå°é®æˆ–é„‰æ‘ï¼Œä»‹ç´¹ç•¶åœ°æ–‡åŒ–ã€æ‰‹ä½œå·¥è—ã€å¸‚å ´èˆ‡ç‰¹è‰²ç¾é£Ÿ',
        icon: 'ğŸ˜ï¸',
        tags: ['æ…¢ç¯€å¥', 'è¼•æ—…è¡Œ', 'æ‰‹ä½œå·¥è—', 'åœ¨åœ°ç”Ÿæ´»'],
        videoCount: 18,
        backgroundImage: 'https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
      },
      {
        id: 'food-talk',
        title: 'é£Ÿè©±å¯¦èªª',
        description: 'ã€Šé£Ÿè©±å¯¦èªª Food Talkã€‹- è¨è«–ç‰¹å®šé£Ÿæã€æ–™ç†æˆ–ç¾é£Ÿæ–‡åŒ–ï¼Œçµåˆè¨è«–èˆ‡å¯¦åœ°ç¤ºç¯„',
        icon: 'ğŸ³',
        tags: ['é£Ÿæè¨è«–', 'æ–™ç†æ–‡åŒ–', 'æ•™è‚²æ€§', 'å¯¦åœ°ç¤ºç¯„'],
        videoCount: 25,
        backgroundImage: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
      },
      {
        id: 'fun-for-kids',
        title: 'ç«¥è¶£æ—…ç¨‹',
        description: 'ã€Šç«¥è¶£æ—…ç¨‹ Fun for Kidsã€‹- å°ˆç‚ºå®¶åº­è¨­è¨ˆï¼Œæ¢ç´¢é©åˆè¦ªå­æ´»å‹•çš„æ™¯é»ã€éŠæ¨‚åœ’ã€å‹•ç‰©åœ’',
        icon: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦',
        tags: ['è¦ªå­æ´»å‹•', 'éŠæ¨‚åœ’', 'å‹•ç‰©åœ’', 'æ‰‹ä½œé«”é©—'],
        videoCount: 20,
        backgroundImage: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
      },
      {
        id: 'time-walk',
        title: 'æ™‚å…‰æ¼«éŠ',
        description: 'ã€Šæ™‚å…‰æ¼«éŠ Time Walkã€‹- èµ°è¨ªå¤è¹Ÿã€åšç‰©é¤¨ã€å‚³çµ±æ‘è½ï¼Œé€éæ­·å²æ•…äº‹å‘ˆç¾æ·±åº¦æ–‡åŒ–æ—…ç¨‹',
        icon: 'ğŸ›ï¸',
        tags: ['å¤è¹Ÿ', 'åšç‰©é¤¨', 'æ­·å²æ•…äº‹', 'æ–‡åŒ–æ—…ç¨‹'],
        videoCount: 30,
        backgroundImage: 'https://images.unsplash.com/photo-1520637836862-4d197d17c93a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
      },
      {
        id: 'nature-secrets',
        title: 'è‡ªç„¶ç§˜å¢ƒ',
        description: 'ã€Šè‡ªç„¶ç§˜å¢ƒ Nature Secretsã€‹- æ¢ç´¢è‡ªç„¶æ™¯è§€ã€é‡ç”Ÿå‹•æ¤ç‰©ã€ç”Ÿæ…‹ä¿è‚²ï¼Œæ„Ÿå—åœ°çƒä¹‹ç¾',
        icon: 'ğŸŒ¿',
        tags: ['è‡ªç„¶æ™¯è§€', 'é‡ç”Ÿå‹•ç‰©', 'ç”Ÿæ…‹ä¿è‚²', 'ç’°å¢ƒä¿è­·'],
        videoCount: 26,
        backgroundImage: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
      }
    ];

    // ç†±é–€æœå°‹æ¨™ç±¤
    const POPULAR_TAGS = [
      'åŸå¸‚ç§˜å¢ƒ', 'å‘³è¦ºæ—¥èªŒ', 'æ—…é€”è«‡', 'æ…¢éŠå°é®', 'é£Ÿè©±å¯¦èªª', 'ç«¥è¶£æ—…ç¨‹', 'æ™‚å…‰æ¼«éŠ', 'è‡ªç„¶ç§˜å¢ƒ',
      'å°çœ¾æ™¯é»', 'åœ¨åœ°ç”Ÿæ´»', 'ç¾é£Ÿæ•…äº‹', 'æ—…éŠæŠ€å·§', 'æ…¢ç¯€å¥', 'è¦ªå­æ´»å‹•', 'å¤è¹Ÿ', 'è‡ªç„¶æ™¯è§€',
      'è¡—é ­å°åƒ', 'æ‰‹ä½œå·¥è—', 'æ­·å²æ•…äº‹', 'ç”Ÿæ…‹ä¿è‚²', 'å¤œå¸‚', 'å’–å•¡é¤¨', 'åšç‰©é¤¨', 'é‡ç”Ÿå‹•ç‰©'
    ];

    // HTML è½‰ç¾©å‡½æ•¸
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // æ¸²æŸ“ç†±é–€æœå°‹æ¨™ç±¤
    function renderSearchTags() {
      const container = document.getElementById('search-tags');
      if (!container) return;

      const displayTags = POPULAR_TAGS.slice(0, 16);
      
      container.innerHTML = displayTags.map(tag => `
        <span class="search-tag" data-tag="${tag}">${escapeHtml(tag)}</span>
      `).join('');

      // æ·»åŠ é»æ“Šäº‹ä»¶
      container.addEventListener('click', handleTagClick);
    }

    // æ¸²æŸ“ä¸»é¡Œåˆ†é¡å¡ç‰‡
    function renderTopicsGrid() {
      const container = document.getElementById('topics-grid');
      if (!container) return;

      container.innerHTML = TOPICS_DATA.map(topic => `
        <div class="topic-card" data-topic-id="${topic.id}" style="background-image: url('${topic.backgroundImage}')">
          <div class="topic-content">
            <div class="topic-icon">${topic.icon}</div>
            <div class="topic-title">${escapeHtml(topic.title)}</div>
            <div class="topic-desc">${escapeHtml(topic.description)}</div>
            <div class="topic-stats">
              <span>ğŸ“º ${topic.videoCount} å€‹ç¯€ç›®</span>
              <span>ğŸ·ï¸ ${topic.tags.slice(0, 2).join('ã€')}</span>
            </div>
          </div>
        </div>
      `).join('');

      // æ·»åŠ ä¸»é¡Œå¡ç‰‡é»æ“Šäº‹ä»¶
      container.addEventListener('click', handleTopicClick);
    }

    // è™•ç†æ¨™ç±¤é»æ“Š
    function handleTagClick(e) {
      const tag = e.target.closest('.search-tag');
      if (!tag) return;

      const tagText = tag.dataset.tag;
      const searchInput = document.getElementById('search-input');
      
      searchInput.value = tagText;
      
      // ç§»é™¤å…¶ä»–æ¨™ç±¤çš„ active ç‹€æ…‹
      document.querySelectorAll('.search-tag').forEach(t => t.classList.remove('active'));
      
      // æ·»åŠ ç•¶å‰æ¨™ç±¤çš„ active ç‹€æ…‹
      tag.classList.add('active');
      
      // åŸ·è¡Œæœå°‹
      performSearch(tagText);
    }

    // è™•ç†ä¸»é¡Œå¡ç‰‡é»æ“Š
    function handleTopicClick(e) {
      const topicCard = e.target.closest('.topic-card');
      if (!topicCard) return;

      const topicId = topicCard.dataset.topicId;
      const topic = TOPICS_DATA.find(t => t.id === topicId);
      
      if (topic) {
        const searchInput = document.getElementById('search-input');
        searchInput.value = topic.title;
        performSearch(topic.title);
        
        const resultsSection = document.getElementById('featured-videos-section');
        if (resultsSection) {
          resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
      }
    }

    // åŸ·è¡Œæœå°‹
    function performSearch(query) {
      const container = document.getElementById('featured-videos');
      const section = document.getElementById('featured-videos-section');
      
      if (!container || !section) return;

      container.innerHTML = '<div style="text-align: center; padding: 40px; color: #6b7280;">æœå°‹ä¸­...</div>';
      section.style.display = 'block';

      // æ¨¡æ“¬æœå°‹çµæœ
      setTimeout(() => {
        container.innerHTML = `
          <div style="text-align: center; padding: 40px; color: #6b7280;">
            <div style="font-size: 48px; margin-bottom: 16px;">ğŸ”</div>
            <div>æœå°‹ã€Œ${query}ã€çš„çµæœ</div>
            <div style="font-size: 14px; margin-top: 8px;">é€™è£¡æœƒé¡¯ç¤ºç›¸é—œçš„æ—…éŠç¯€ç›®</div>
          </div>
        `;
      }, 1000);
    }

    // è¨­ç½®æœå°‹äº‹ä»¶
    function setupSearchEvents() {
      const searchInput = document.getElementById('search-input');
      const searchBtn = document.getElementById('search-btn');

      searchBtn.addEventListener('click', () => {
        const query = searchInput.value.trim();
        if (query) {
          performSearch(query);
        }
      });

      searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          const query = searchInput.value.trim();
          if (query) {
            performSearch(query);
          }
        }
      });
    }

    // æ¼¢å ¡é¸å–®åŠŸèƒ½
    function initHamburgerMenu() {
      const hamburgerBtn = document.getElementById('hamburger-btn');
      const sideMenu = document.getElementById('side-menu');
      const menuOverlay = document.getElementById('menu-overlay');
      const body = document.body;
      
      function toggleMenu() {
        sideMenu?.classList.toggle('active');
        menuOverlay?.classList.toggle('active');
        body.classList.toggle('menu-open');
      }
      
      hamburgerBtn?.addEventListener('click', toggleMenu);
      menuOverlay?.addEventListener('click', toggleMenu);
    }

    // é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
      dbg('DOM è¼‰å…¥å®Œæˆ');
      initThemeToggle(); dbg('ä¸»é¡Œåˆ‡æ›åˆå§‹åŒ–å®Œæˆ');
      initHamburgerMenu(); dbg('æ¼¢å ¡é¸å–®åˆå§‹åŒ–å®Œæˆ');
      renderSearchTags(); dbg('å·²æ¸²æŸ“æœå°‹æ¨™ç±¤');
      renderTopicsGrid(); dbg('å·²æ¸²æŸ“ä¸»é¡Œå¡ç‰‡ï¼š'+TOPICS_DATA.length);
      setupSearchEvents(); dbg('å·²ç¶å®šæœå°‹äº‹ä»¶');
    });
  </script>
</body>
</html>
