# Contentful åŒæ­¥åŠŸèƒ½ä¿®å¾©é€²åº¦è¨˜éŒ„

## ðŸ“… è™•ç†æ—¥æœŸ
2025å¹´1æœˆ3æ—¥

## ðŸŽ¯ å•é¡Œæ¦‚è¿°
Contentful ç¯€ç›®ä¸Šæž¶åŠŸèƒ½å‡ºç¾åŒæ­¥éŒ¯èª¤ï¼Œéœ€è¦ä¿®å¾©æ¬„ä½æ˜ å°„å’Œé©—è­‰å•é¡Œã€‚

## âœ… å·²å®Œæˆçš„ä¿®æ­£

### 1. æ¬„ä½åç¨±æ˜ å°„ä¿®æ­£
- **å•é¡Œ**: ä½¿ç”¨ä¸­æ–‡æ¬„ä½åç¨±å°Žè‡´ `UnknownField` éŒ¯èª¤
- **è§£æ±º**: ä¿®æ­£ç‚ºæ­£ç¢ºçš„ Field ID
  - `é¡¯ç¤ºåç¨±` â†’ `title`
  - `æ’­å‡ºæ—¥æœŸ` â†’ `airDate`
  - `æ™‚æ®µ` â†’ `block`
  - `æ§½ä½åºè™Ÿ (0-11)` â†’ `slotIndex`
  - `æ˜¯å¦é¦–æ’­` â†’ `isPremiere`
  - `å‚™è¨»` â†’ `notes`

### 2. èªžè¨€ä»£ç¢¼ä¿®æ­£
- **å•é¡Œ**: ä½¿ç”¨ `zh-TW` èªžè¨€ä»£ç¢¼å°Žè‡´ `ValidationFailed` éŒ¯èª¤
- **è§£æ±º**: ä¿®æ­£ç‚º `en-US` èªžè¨€ä»£ç¢¼

### 3. æ¬„ä½æ ¼å¼ä¿®æ­£
- **å•é¡Œ**: `block` æ¬„ä½éœ€è¦æ™‚æ®µç¯„åœï¼Œä¸æ˜¯å…·é«”æ™‚é–“
- **è§£æ±º**: æ·»åŠ  `getTimeBlock()` å‡½æ•¸
  - æ”¯æ´æ™‚æ®µ: `00-06`, `06-12`, `12-18`, `18-24`
  - è‡ªå‹•å°‡æ™‚é–“è½‰æ›ç‚ºå°æ‡‰æ™‚æ®µ

### 4. å¿…å¡«æ¬„ä½ä¿®æ­£
- **å•é¡Œ**: ç¼ºå°‘å¿…å¡«çš„ `video` æ¬„ä½
- **è§£æ±º**: æ·»åŠ  `video` æ¬„ä½ä½œç‚º Reference é¡žåž‹

### 5. UI æ¸…ç†
- ç§»é™¤ç„¡ç”¨çš„æŒ‰éˆ•å’ŒåŠŸèƒ½
- æ¸…ç†é‡è¤‡çš„å‡½æ•¸å®šç¾©
- ç°¡åŒ–ä»‹é¢ï¼Œåªä¿ç•™æ ¸å¿ƒåŠŸèƒ½

## ðŸ”§ æŠ€è¡“ç´°ç¯€

### ä¿®æ­£çš„æª”æ¡ˆ
- `admin-calendar-unified.html` (ä¸»è¦ä¿®æ”¹æª”æ¡ˆ)

### é—œéµå‡½æ•¸
```javascript
// æ™‚é–“è½‰æ›å‡½æ•¸
function getTimeBlock(timeString) {
  if (!timeString) return '12-18';
  
  const hour = parseInt(timeString.split(':')[0]);
  
  if (hour >= 0 && hour < 6) return '00-06';
  if (hour >= 6 && hour < 12) return '06-12';
  if (hour >= 12 && hour < 18) return '12-18';
  if (hour >= 18 && hour < 24) return '18-24';
  
  return '12-18'; // é è¨­å€¼
}
```

### æ¬„ä½æ˜ å°„
```javascript
const entryData = {
  fields: {
    'title': { 'en-US': programData.title || 'æœªå‘½åç¯€ç›®' },
    'airDate': { 'en-US': programData.airDate || new Date().toISOString().split('T')[0] },
    'block': { 'en-US': getTimeBlock(programData.airTime) },
    'slotIndex': { 'en-US': programData.slotNumber || 0 },
    'isPremiere': { 'en-US': programData.isFirstBroadcast || false },
    'notes': { 'en-US': programData.description || '' },
    'video': { 'en-US': { sys: { type: 'Link', linkType: 'Entry', id: 'default-video-id' } } }
  }
};
```

## ðŸ“‹ å¾…è™•ç†äº‹é …

### 1. æ¸¬è©¦ä¿®æ­£çµæžœ
- [ ] é‡æ–°æ•´ç†é é¢ (F5)
- [ ] å˜—è©¦ä¸Šæž¶ç¯€ç›®
- [ ] æª¢æŸ¥æ˜¯å¦æˆåŠŸä¸Šæž¶
- [ ] æŸ¥çœ‹æŽ§åˆ¶å°éŒ¯èª¤è¨Šæ¯

### 2. å¯èƒ½çš„å¾ŒçºŒå•é¡Œ
- [ ] `video` æ¬„ä½å¯èƒ½éœ€è¦çœŸå¯¦çš„å½±ç‰‡ ID
- [ ] æª¢æŸ¥ Contentful ä¸­çš„å¯¦éš›å½±ç‰‡è³‡æ–™
- [ ] é©—è­‰æ‰€æœ‰æ¬„ä½æ˜¯å¦æ­£ç¢ºæ˜ å°„

### 3. Firebase ç™»å…¥æ¸¬è©¦
- [ ] æ¸¬è©¦ Firebase ç™»å…¥åŠŸèƒ½
- [ ] ä½¿ç”¨å¸³è™Ÿ: `sammyzomb@gmail.com`
- [ ] é©—è­‰ç™»å…¥æˆåŠŸå¾Œçš„è·³è½‰

## ðŸš¨ é‡è¦æé†’

### æ¸¬è©¦æ­¥é©Ÿ
1. æ‰“é–‹ `admin-calendar-unified.html`
2. æŒ‰ F12 æ‰“é–‹é–‹ç™¼è€…å·¥å…·
3. æŸ¥çœ‹ Console æ¨™ç±¤
4. é»žæ“Šã€ŒðŸ”„ åŒæ­¥åˆ° Contentfulã€æˆ–ã€ŒðŸ“º ä¸Šæž¶é¸ä¸­ç¯€ç›®ã€
5. è§€å¯Ÿçµæžœå’ŒéŒ¯èª¤è¨Šæ¯

### å¦‚æžœä»æœ‰éŒ¯èª¤
- æª¢æŸ¥æŽ§åˆ¶å°ä¸­çš„å…·é«”éŒ¯èª¤è¨Šæ¯
- ç¢ºèª Contentful ä¸­çš„æ¬„ä½è¨­å®š
- é©—è­‰ API æ¬Šé™å’Œ Token

## ðŸ“ ç›¸é—œæª”æ¡ˆ
- `admin-calendar-unified.html` - ä¸»è¦ä¿®æ”¹æª”æ¡ˆ
- `contentful-real-only.js` - Contentful é€£ç·šç³»çµ±
- `contentful-main-console.html` - Contentful ä¸»æŽ§å°

## ðŸ”„ Git æäº¤è¨˜éŒ„
- **Commit ID**: `d5124ef`
- **æäº¤è¨Šæ¯**: "ðŸ”§ ä¿®æ­£ Contentful åŒæ­¥åŠŸèƒ½ - è§£æ±ºæ¬„ä½æ˜ å°„å’Œé©—è­‰å•é¡Œ"
- **ç‹€æ…‹**: å·²æŽ¨é€åˆ° GitHub

## ðŸ“ž ä¸‹æ¬¡ç¹¼çºŒæ™‚
1. æª¢æŸ¥æ­¤æª”æ¡ˆäº†è§£é€²åº¦
2. æ¸¬è©¦ä¿®æ­£å¾Œçš„åŠŸèƒ½
3. æ ¹æ“šæ¸¬è©¦çµæžœé€²è¡Œå¾ŒçºŒèª¿æ•´
4. æ›´æ–°æ­¤é€²åº¦è¨˜éŒ„

---
**æœ€å¾Œæ›´æ–°**: 2025å¹´1æœˆ3æ—¥  
**ç‹€æ…‹**: ç­‰å¾…æ¸¬è©¦ä¿®æ­£çµæžœ  
**ä¸‹ä¸€æ­¥**: æ¸¬è©¦ Contentful åŒæ­¥åŠŸèƒ½


